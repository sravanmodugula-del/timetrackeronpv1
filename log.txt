2025-08-30T18:35:57: 2025-08-31T01:35:57.638Z 🟢 [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T18:35:57: [dotenv@17.2.1] injecting env (3) from fmb-onprem\.env.fmb-onprem -- tip: 📡 auto-backup env with Radar: https://dotenvx.com/radar
2025-08-30T18:35:57: [dotenv@17.2.1] injecting env (0) from .env -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }
2025-08-30T18:35:57: 🏢 FMB On-Premises configuration loaded
2025-08-30T18:35:57: 🔍 [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-08-30T18:35:57: ✅ [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-08-30T18:35:57: 2025-08-31T01:35:57.644Z 🟢 [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T18:35:57: 2025-08-31T01:35:57.644Z 🟢 [CONFIG] FMB session secret validated successfully
2025-08-30T18:35:57: 🔗 Connecting to FMB MS SQL database...
2025-08-30T18:35:57: ✅ FMB Database connection established successfully
2025-08-30T18:35:57: 2025-08-31T01:35:57.835Z 🟢 [DATABASE] FMB Database initialization completed successfully
2025-08-30T18:35:57: 2025-08-31T01:35:57.839Z 🟢 [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T18:35:57: 2025-08-31T01:35:57.839Z 🟢 [SESSION] Initializing MS SQL session store for production
2025-08-30T18:35:57: 2025-08-31T01:35:57.840Z 🟢 [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T18:35:57: 2025-08-31T01:35:57.840Z 🟢 [SESSION] Session store initialization completed
2025-08-30T18:35:57: 2025-08-31T01:35:57.841Z 🟢 [SERVER] FMB Session middleware configured successfully
2025-08-30T18:35:57: 2025-08-31T01:35:57.843Z 🟢 [SECURITY] Enterprise session security middleware activated
2025-08-30T18:35:57: 🚀 Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T18:35:57: 2025-08-31T01:35:57.846Z 🔵 [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T18:35:57: 🔧 [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T18:35:57: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com
2025-08-30T18:35:57: [dotenv@17.2.1] injecting env (0) from .env -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }
2025-08-30T18:35:57: 🏢 FMB On-Premises configuration loaded
2025-08-30T18:35:57: 🔍 [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-08-30T18:35:57: ✅ [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-08-30T18:35:57: 🔗 [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T18:35:57: 2025-08-31T01:35:57.850Z 🔵 [FMB-SAML] FMB SAML Authentication setup completed
2025-08-30T18:35:57: 🛡️ [SESSION-MGMT] Enterprise session management routes registered
2025-08-30T18:35:57: 🛡️ [SESSION-MGMT] Enterprise session management routes registered
2025-08-30T18:35:57: 2025-08-31T01:35:57.857Z 🟢 [SERVER] FMB TimeTracker running on http://0.0.0.0:5000
2025-08-30T18:35:57: 2025-08-31T01:35:57.858Z 🟢 [SERVER] Environment: fmb-onprem
2025-08-30T18:35:57: 2025-08-31T01:35:57.858Z 🟢 [FMB-ONPREM] On-premises deployment active - SAML authentication enabled
2025-08-30T18:35:57: 2025-08-31T01:35:57.949Z 🗄️ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T18:35:58: 🟢 [FMB-SESSION] Session table structure verified
2025-08-30T18:36:33: Error: Dynamic require of "crypto" is not supported
    at file:///C:/fmb-timetracker/dist/index.js:7:9
    at genid (file:///C:/fmb-timetracker/dist/index.js:3833:23)
    at store.generate (C:\fmb-timetracker\node_modules\express-session\index.js:159:21)
    at generate (C:\fmb-timetracker\node_modules\express-session\index.js:372:13)
    at session (C:\fmb-timetracker\node_modules\express-session\index.js:486:7)
    at Layer.handle [as handle_request] (C:\fmb-timetracker\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\fmb-timetracker\node_modules\express\lib\router\index.js:328:13)
    at C:\fmb-timetracker\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (C:\fmb-timetracker\node_modules\express\lib\router\index.js:346:12)
    at next (C:\fmb-timetracker\node_modules\express\lib\router\index.js:280:10)
