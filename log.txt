PS C:\Users\ADM91381> cd..

PS C:\Users> cd..

PS C:\> cd .\fmb-timetracker

PS C:\fmb-timetracker> # FMB TimeTracker On-Premises Deployment Script for Windows
# Updates the application with new version

param(
    [string]$InstallPath = "C:\fmb-timetracker",
    [string]$ServiceName = "FMBTimeTracker"
)

Write-Host "ğŸš€ FMB TimeTracker Deployment (Windows)" -ForegroundColor Green
Write-Host "======================================" -ForegroundColor Green

# Check if running as Administrator
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "âŒ This script must be run as Administrator" -ForegroundColor Red
    exit 1
}

# Ensure required directories exist
Write-Host "ğŸ“ Creating required directories..." -ForegroundColor Yellow
if (-not (Test-Path "$InstallPath\logs")) {
    New-Item -ItemType Directory -Path "$InstallPath\logs" -Force | Out-Null
}
Write-Host "âœ… Directories created" -ForegroundColor Green

# Check for .env file
Write-Host "ğŸ” Validating environment configuration..." -ForegroundColor Yellow
if (-not (Test-Path ".env")) {
    Write-Host "âš ï¸ .env file not found. Checking for .env.fmb-onprem..." -ForegroundColor Yellow
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "âœ… Copied .env.fmb-onprem to .env" -ForegroundColor Green
    } else {
        Write-Host "âŒ No environment file found. Please create .env with required configuration." -ForegroundColor Red
        exit 1
    }
} else {
    Write-Host "âœ… Environment file found" -ForegroundColor Green
}

# Stop PM2 processes
Write-Host "â¹ï¸ Stopping application..." -ForegroundColor Yellow
try {
    Set-Location $InstallPath
    npx pm2 stop ecosystem.config.cjs
    Write-Host "âœ… Application stopped" -ForegroundColor Green
} catch {
    Write-Host "âš ï¸ Could not stop PM2 processes gracefully" -ForegroundColor Yellow
}

# Update application
Write-Host "ğŸ“¦ Installing all dependencies..." -ForegroundColor Yellow
try {
    # Clean install to ensure all dependencies are properly installed
    Remove-Item -Path "node_modules" -Recurse -Force -ErrorAction SilentlyContinue
    Remove-Item -Path "package-lock.json" -Force -ErrorAction SilentlyContinue
    npm install --production=false --legacy-peer-deps
    npm audit fix --force --legacy-peer-deps
    Write-Host "âœ… All dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Failed to install dependencies" -ForegroundColor Red
    exit 1
}

# Build application
Write-Host "ğŸ”¨ Building application..." -ForegroundColor Yellow
try {
    npm run build

    # Copy FMB on-premises configuration files to dist
    Write-Host "ğŸ“‹ Copying FMB configuration files..." -ForegroundColor Yellow
    if (-not (Test-Path "dist/fmb-onprem")) {
        New-Item -ItemType Directory -Path "dist/fmb-onprem" -Force | Out-Null
        New-Item -ItemType Directory -Path "dist/fmb-onprem/config" -Force | Out-Null
    }

    # Build the TypeScript files for on-prem configs
    npx tsc fmb-onprem/config/fmb-env.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop
    npx tsc fmb-onprem/config/fmb-database.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop

    # Verify build artifacts exist
    if (-not (Test-Path "dist")) {
        Write-Host "âŒ Build directory not found" -ForegroundColor Red
        exit 1
    }

    if (-not (Test-Path "dist/index.js")) {
        Write-Host "âŒ Server build not found" -ForegroundColor Red
        exit 1
    }

    Write-Host "âœ… Application built successfully" -ForegroundColor Green

    Write-Host "Installing production dependencies..." -ForegroundColor Yellow
    # Ensure production dependencies are available for the built application
    npm install --only=production --legacy-peer-deps
    Write-Host "âœ… Production dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Build failed" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    exit 1
}

# Skip cleaning dev dependencies to avoid missing Vite plugin errors
Write-Host "ğŸ“¦ Keeping all dependencies for Vite compatibility..." -ForegroundColor Yellow
Write-Host "âœ… Dependencies preserved for production build" -ForegroundColor Green

# Health check
Write-Host "ğŸ” Running configuration health check..." -ForegroundColor Yellow
try {
    # Only validate FMB environment if actually deploying on-premises
    # For Replit deployment, skip FMB-specific validation
    $isFmbOnPrem = $env:FMB_DEPLOYMENT -eq "onprem" -and $env:NODE_ENV -eq "production"
    if ($isFmbOnPrem) {
        $env:NODE_ENV = "production"

        # Check if built config exists, otherwise use ts-node for health check
        if (Test-Path "dist/fmb-onprem/config/fmb-env.js") {
            $nodeScript = @"
import('./dist/fmb-onprem/config/fmb-env.js').then(config => {
  config.loadFmbOnPremConfig();
  console.log('âœ… Configuration valid');
}).catch(err => {
  console.error('âŒ Config error:', err.message);
  process.exit(1);
});
"@
            node -e $nodeScript --input-type=module
        } else {
            # Basic FMB environment variable check
            $requiredVars = @('FMB_SESSION_SECRET', 'FMB_DB_SERVER', 'FMB_DB_NAME')
            $missing = @()
            foreach ($var in $requiredVars) {
                if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                    $missing += $var
                }
            }

            if ($missing.Count -gt 0) {
                Write-Host "âŒ Missing required FMB environment variables: $($missing -join ', ')" -ForegroundColor Red
                exit 1
            }

            Write-Host "âœ… FMB environment validation passed" -ForegroundColor Green
        }
    } else {
        Write-Host "â˜ï¸ Replit deployment detected - skipping FMB on-prem validation" -ForegroundColor Yellow

        # Load environment variables from .env file for validation
        if (Test-Path ".env") {
            Write-Host "ğŸ“‹ Loading environment variables from .env file..." -ForegroundColor Yellow
            Get-Content ".env" | ForEach-Object {
                if ($_ -match "^([^#=]+)=(.*)$") {
                    $name = $matches[1].Trim()
                    $value = $matches[2].Trim()
                    [Environment]::SetEnvironmentVariable($name, $value, "Process")
                }
            }
        }

        # Basic validation for environment
        $basicVars = @('NODE_ENV')
        $missing = @()
        foreach ($var in $basicVars) {
            if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                $missing += $var
            }
        }

        if ($missing.Count -gt 0) {
            Write-Host "âŒ Missing basic environment variables: $($missing -join ', ')" -ForegroundColor Red
            Write-Host "ğŸ’¡ Tip: Ensure .env file contains NODE_ENV=production" -ForegroundColor Yellow
            exit 1
        }

        Write-Host "âœ… Basic environment validation passed" -ForegroundColor Green
    }

    Write-Host "âœ… Configuration validation completed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Configuration validation failed" -ForegroundColor Red
    Write-Host "Please check your .env file and configuration" -ForegroundColor Yellow
    exit 1
}

# Start application
Write-Host "â–¶ï¸ Starting application..." -ForegroundColor Yellow
try {
    # Check if PM2 is available
    $pm2Version = npx pm2 --version 2>$null
    if (-not $pm2Version) {
        Write-Host "âŒ PM2 is not available" -ForegroundColor Red
        Write-Host "Installing PM2 globally..." -ForegroundColor Yellow
        npm install -g pm2
    }

    # Stop any existing processes first
    Write-Host "ğŸ›‘ Stopping any existing processes..." -ForegroundColor Yellow
    npx pm2 delete fmb-timetracker 2>$null

    # Start the application with explicit production environment
    Write-Host "ğŸš€ Starting application with PM2..." -ForegroundColor Yellow
    npx pm2 start ecosystem.config.cjs --env production --no-daemon

    # Wait for the process to initialize
    Start-Sleep -Seconds 5

    # Check process status multiple times with retries
    $maxRetries = 6
    $retryCount = 0
    $processOnline = $false

    while ($retryCount -lt $maxRetries -and -not $processOnline) {
        $retryCount++
        Write-Host "ğŸ” Checking process status (attempt $retryCount/$maxRetries)..." -ForegroundColor Yellow

        try {
            $processStatus = npx pm2 jlist | ConvertFrom-Json
            $appProcess = $processStatus | Where-Object { $_.name -eq "fmb-timetracker" }

            if ($appProcess) {
                $status = $appProcess.pm2_env.status
                Write-Host "ğŸ“Š Process status: $status" -ForegroundColor Cyan

                if ($status -eq "online") {
                    $processOnline = $true
                    Write-Host "âœ… Application started successfully" -ForegroundColor Green
                } elseif ($status -eq "errored" -or $status -eq "stopped") {
                    Write-Host "âŒ Application process failed with status: $status" -ForegroundColor Red
                    Write-Host "ğŸ“ Recent error logs:" -ForegroundColor Yellow
                    npx pm2 logs fmb-timetracker --lines 20 --err
                    exit 1
                } else {
                    Write-Host "â³ Application still starting (status: $status)..." -ForegroundColor Yellow
                    Start-Sleep -Seconds 5
                }
            } else {
                Write-Host "âŒ No process found with name 'fmb-timetracker'" -ForegroundColor Red
                npx pm2 status
                exit 1
            }
        } catch {
            Write-Host "âš ï¸ Error checking process status: $($_.Exception.Message)" -ForegroundColor Yellow
            Start-Sleep -Seconds 5
        }
    }

    if (-not $processOnline) {
        Write-Host "âŒ Application failed to start within expected time" -ForegroundColor Red
        Write-Host "ğŸ“ PM2 Status:" -ForegroundColor Yellow
        npx pm2 status
        Write-Host "ğŸ“ Recent logs:" -ForegroundColor Yellow
        npx pm2 logs fmb-timetracker --lines 20
        exit 1
    }

} catch {
    Write-Host "âŒ Failed to start application" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    Write-Host "ğŸ“ PM2 Status:" -ForegroundColor Yellow
    npx pm2 status
    Write-Host "ğŸ“ Recent logs:" -ForegroundColor Yellow
    npx pm2 logs fmb-timetracker --lines 20
    exit 1
}

# Wait for service to be ready
Write-Host "â³ Waiting for service to be ready..." -ForegroundColor Yellow
Start-Sleep -Seconds 15

# Verify deployment
Write-Host "ğŸ” Verifying deployment..." -ForegroundColor Yellow
try {
    $response = Invoke-WebRequest -Uri "http://localhost:3000/api/health" -TimeoutSec 30
    if ($response.StatusCode -eq 200) {
        Write-Host "âœ… Deployment successful!" -ForegroundColor Green
        Write-Host "ğŸŒ Application is running on port 3000" -ForegroundColor Green
    } else {
        Write-Host "âŒ Health check failed - HTTP Status: $($response.StatusCode)" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "âŒ Deployment verification failed" -ForegroundColor Red
    Write-Host "ğŸ“ Check application logs: pm2 logs" -ForegroundColor Yellow
    exit 1
}

Write-Host ""
Write-Host "ğŸ“‹ Post-deployment commands:" -ForegroundColor Cyan
Write-Host "View status: npx pm2 status" -ForegroundColor White
Write-Host "View logs: npx pm2 logs" -ForegroundColor White
Write-Host "Restart if needed: npx pm2 restart ecosystem.config.cjs" -ForegroundColor White
ğŸš€ FMB TimeTracker Deployment (Windows)
======================================
ğŸ“ Creating required directories...
âœ… Directories created
ğŸ” Validating environment configuration...
âœ… Environment file found
â¹ï¸ Stopping application...
[PM2] [fmb-timetracker](0) Ã¢Å“â€œ
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name               Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€Å“Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¤
Ã¢â€â€š 0  Ã¢â€â€š fmb-timetracker    Ã¢â€â€š default     Ã¢â€â€š 1.0.0   Ã¢â€â€š cluster Ã¢â€â€š 0        Ã¢â€â€š 0      Ã¢â€â€š 9    Ã¢â€â€š stopped   Ã¢â€â€š 0%       Ã¢â€â€š 0b       Ã¢â€â€š ADM91381 Ã¢â€â€š disabled Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
âœ… Application stopped
ğŸ“¦ Installing all dependencies...
node.exe : npm warn config production Use `--omit=dev` instead.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...t=dev` instead.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn deprecated @xmldom/xmldom@0.7.13: this version is no longer supported, please update to at least 0.8.*
npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See 
https://v8.dev/blog/math-random for details.
npm warn deprecated adal-node@0.2.4: This package is no longer supported. Please migrate to @azure/msal-node.
npm warn deprecated passport-saml@3.2.4: For versions >= 4, please use scopped package @node-saml/passport-saml

added 810 packages, and audited 811 packages in 3m

111 packages are looking for funding
  run `npm fund` for details

8 vulnerabilities (1 low, 1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
node.exe : npm warn using --force Recommended protections disabled.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn using ...tions disabled.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn audit No fix available for passport-saml@*
npm warn audit No fix available for pm2@*

up to date, audited 811 packages in 3s

111 packages are looking for funding
  run `npm fund` for details

# npm audit report

axios  <=0.29.0
Severity: high
Axios Cross-Site Request Forgery Vulnerability - https://github.com/advisories/GHSA-wf5p-g6vw-rhxx
axios Requests Vulnerable To Possible SSRF and Credential Leakage via Absolute URL - https://github.com/advisories/GHSA-jr5f-v2jv-69x6
fix available via `npm audit fix`
node_modules/axios
  adal-node  0.2.2-beta.0 - 0.2.4
  Depends on vulnerable versions of axios
  node_modules/adal-node
    @azure/ms-rest-nodeauth  >=3.0.10
    Depends on vulnerable versions of adal-node
    node_modules/@azure/ms-rest-nodeauth
      tedious  6.7.1 || 12.3.0-alpha.1 - 12.3.0
      Depends on vulnerable versions of @azure/ms-rest-nodeauth
      node_modules/connect-mssql-v2/node_modules/tedious
        mssql  6.4.0 - 6.4.1
        Depends on vulnerable versions of tedious
        node_modules/connect-mssql-v2/node_modules/mssql

passport-saml  *
Severity: critical
Node-SAML SAML Signature Verification Vulnerability - https://github.com/advisories/GHSA-4mxg-3p6v-xgq3
Depends on vulnerable versions of xml2js
No fix available
node_modules/passport-saml

pm2  *
pm2 Regular Expression Denial of Service vulnerability - https://github.com/advisories/GHSA-x5gf-qvw8-r2rm
No fix available
node_modules/pm2

xml2js  <0.5.0
Severity: moderate
xml2js is vulnerable to prototype pollution - https://github.com/advisories/GHSA-776f-qx25-q3cc
No fix available
node_modules/passport-saml/node_modules/xml2js

8 vulnerabilities (1 low, 1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.
âœ… All dependencies installed
ğŸ”¨ Building application...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

[36mvite v7.1.3 [32mbuilding for production...[36m[39m
transforming...
[32mÃ¢Å“â€œ[39m 2077 modules transformed.
rendering chunks...
computing gzip size...
[2m../dist/public/[22m[32mindex.html                 [39m[1m[2m  0.86 kB[22m[1m[22m[2m Ã¢â€â€š gzip:   0.44 kB[22m
[2m../dist/public/[22m[35massets/index-81F4Kgy-.css  [39m[1m[2m 70.03 kB[22m[1m[22m[2m Ã¢â€â€š gzip:  12.48 kB[22m
[2m../dist/public/[22m[36massets/index-DcguImM-.js   [39m[1m[33m635.18 kB[39m[22m[2m Ã¢â€â€š gzip: 179.38 kB[22m
node.exe : [33m
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([33m:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.[39m
[32mÃ¢Å“â€œ built in 7.89s[39m
  dist\index.js  147.0kb
Done in 24ms
ğŸ“‹ Copying FMB configuration files...
node_modules/tedious/lib/connection.d.ts(755,29): error TS2304: Cannot find name 'AggregateError'.
node_modules/tedious/lib/errors.d.ts(4,59): error TS2304: Cannot find name 'ErrorOptions'.
node_modules/tedious/lib/errors.d.ts(14,59): error TS2304: Cannot find name 'ErrorOptions'.
fmb-onprem/config/fmb-database.ts(111,10): error TS2352: Conversion of type 'FmbStorage' to type 'IStorage' may be a mistake because neither type sufficiently overlaps with the other. If this was intention
al, convert the expression to 'unknown' first.
  Type 'FmbStorage' is missing the following properties from type 'IStorage': getUserById, createUser, updateUser, deleteUser, and 5 more.
fmb-onprem/storage/fmb-storage.ts(322,9): error TS2416: Property 'getTasks' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<Task[]>' is not assignable to type '() => Promise<Task[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(346,24): error TS2551: Property 'projectId' does not exist on type 'InsertTask'. Did you mean 'project_id'?
fmb-onprem/storage/fmb-storage.ts(347,77): error TS2551: Property 'assignedTo' does not exist on type 'InsertTask'. Did you mean 'assigned_to'?
fmb-onprem/storage/fmb-storage.ts(348,16): error TS2551: Property 'createdBy' does not exist on type 'InsertTask'. Did you mean 'created_by'?
fmb-onprem/storage/fmb-storage.ts(348,36): error TS2551: Property 'dueDate' does not exist on type 'InsertTask'. Did you mean 'due_date'?
fmb-onprem/storage/fmb-storage.ts(348,54): error TS2551: Property 'estimatedHours' does not exist on type 'InsertTask'. Did you mean 'estimated_hours'?
fmb-onprem/storage/fmb-storage.ts(395,9): error TS2416: Property 'getTimeEntries' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<TimeEntry[]>' is not assignable to type '() => Promise<TimeEntry[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(433,30): error TS2551: Property 'userId' does not exist on type 'InsertTimeEntry'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(433,52): error TS2551: Property 'projectId' does not exist on type 'InsertTimeEntry'. Did you mean 'project_id'?
fmb-onprem/storage/fmb-storage.ts(433,77): error TS2551: Property 'taskId' does not exist on type 'InsertTimeEntry'. Did you mean 'task_id'?
fmb-onprem/storage/fmb-storage.ts(435,41): error TS2551: Property 'startTime' does not exist on type 'InsertTimeEntry'. Did you mean 'start_time'?
fmb-onprem/storage/fmb-storage.ts(435,66): error TS2551: Property 'endTime' does not exist on type 'InsertTimeEntry'. Did you mean 'end_time'?
fmb-onprem/storage/fmb-storage.ts(437,21): error TS2551: Property 'isBillable' does not exist on type 'InsertTimeEntry'. Did you mean 'is_billable'?
fmb-onprem/storage/fmb-storage.ts(437,56): error TS2551: Property 'isApproved' does not exist on type 'InsertTimeEntry'. Did you mean 'is_approved'?
fmb-onprem/storage/fmb-storage.ts(438,21): error TS2551: Property 'isManualEntry' does not exist on type 'InsertTimeEntry'. Did you mean 'is_manual_entry'?
fmb-onprem/storage/fmb-storage.ts(438,60): error TS2551: Property 'isTimerEntry' does not exist on type 'InsertTimeEntry'. Did you mean 'is_timer_entry'?
fmb-onprem/storage/fmb-storage.ts(439,21): error TS2551: Property 'isTemplate' does not exist on type 'InsertTimeEntry'. Did you mean 'is_template'?
fmb-onprem/storage/fmb-storage.ts(486,9): error TS2416: Property 'getEmployees' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<Employee[]>' is not assignable to type '() => Promise<Employee[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(502,27): error TS2551: Property 'employeeId' does not exist on type 'InsertEmployee'. Did you mean 'employee_id'?
fmb-onprem/storage/fmb-storage.ts(502,52): error TS2551: Property 'firstName' does not exist on type 'InsertEmployee'. Did you mean 'first_name'?
fmb-onprem/storage/fmb-storage.ts(503,20): error TS2551: Property 'lastName' does not exist on type 'InsertEmployee'. Did you mean 'last_name'?
fmb-onprem/storage/fmb-storage.ts(503,68): error TS2551: Property 'userId' does not exist on type 'InsertEmployee'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(550,9): error TS2416: Property 'getDepartments' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<Department[]>' is not assignable to type '() => Promise<Department[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(571,39): error TS2551: Property 'organizationId' does not exist on type 'InsertDepartment'. Did you mean 'organization_id'?
fmb-onprem/storage/fmb-storage.ts(571,64): error TS2551: Property 'managerId' does not exist on type 'InsertDepartment'. Did you mean 'manager_id'?
fmb-onprem/storage/fmb-storage.ts(572,38): error TS2551: Property 'userId' does not exist on type 'InsertDepartment'. Did you mean 'user_id'?
node_modules/tedious/lib/connection.d.ts(755,29): error TS2304: Cannot find name 'AggregateError'.
node_modules/tedious/lib/errors.d.ts(4,59): error TS2304: Cannot find name 'ErrorOptions'.
node_modules/tedious/lib/errors.d.ts(14,59): error TS2304: Cannot find name 'ErrorOptions'.
server/storage.ts(317,17): error TS2339: Property 'default' does not exist on type 'typeof import("C:/fmb-timetracker/server/db")'.
âœ… Application built successfully
Installing production dependencies...
node.exe : npm warn config only Use `--omit=dev` to omit dev dependencies from the install.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...om the install.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 

up to date, audited 581 packages in 5s

83 packages are looking for funding
  run `npm fund` for details

7 vulnerabilities (1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
âœ… Production dependencies installed
ğŸ“¦ Keeping all dependencies for Vite compatibility...
âœ… Dependencies preserved for production build
ğŸ” Running configuration health check...
â˜ï¸ Replit deployment detected - skipping FMB on-prem validation
ğŸ“‹ Loading environment variables from .env file...
âœ… Basic environment validation passed
âœ… Configuration validation completed
â–¶ï¸ Starting application...
ğŸ›‘ Stopping any existing processes...
[PM2] Applying action deleteProcessId on app [fmb-timetracker](ids: [ 0 ])
[PM2] [fmb-timetracker](0) Ã¢Å“â€œ
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name      Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
ğŸš€ Starting application with PM2...
pm2 launched in no-daemon mode (you can add DEBUG="*" env variable to get more messages)
[PM2][WARN] Applications fmb-timetracker not running, starting...
[PM2][WARN] Environment [production] is not defined in process file
[PM2] App [fmb-timetracker] launched (1 instances)
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name               Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€Å“Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¤
Ã¢â€â€š 0  Ã¢â€â€š fmb-timetracker    Ã¢â€â€š default     Ã¢â€â€š 1.0.0   Ã¢â€â€š cluster Ã¢â€â€š 20404    Ã¢â€â€š 0      Ã¢â€â€š 0    Ã¢â€â€š waiting Ã¢â‚¬Â¦ Ã¢â€â€š 0%       Ã¢â€â€š 0b       Ã¢â€â€š ADM91381 Ã¢â€â€š disabled Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
[--no-daemon] Continue to stream logs
[--no-daemon] Exit on target PM2 exit pid=13964
16:15:57 PM2      | App [fmb-timetracker:0] starting in -cluster mode-
16:15:57 PM2      | App [fmb-timetracker:0] online
16:15:57 PM2      | App name:fmb-timetracker id:0 disconnected
16:15:57 PM2      | App [fmb-timetracker:0] exited with code [1] via signal [SIGINT]

2025-08-30T07:56:54: 2025-08-30T14:56:54.738Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:56:54: 2025-08-30T14:56:54.740Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:56:54: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:56:54: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:56:54: Database password: ********************
2025-08-30T07:56:54: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:56:54: 2025-08-30T14:56:54.742Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:56:54: 2025-08-30T14:56:54.932Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:01: 2025-08-30T14:57:01.616Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:01: 2025-08-30T14:57:01.618Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:01: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:01: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:01: Database password: ********************
2025-08-30T07:57:01: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:01: 2025-08-30T14:57:01.620Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:01: 2025-08-30T14:57:01.797Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:08: 2025-08-30T14:57:08.376Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:08: 2025-08-30T14:57:08.378Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:08: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:08: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:08: Database password: ********************
2025-08-30T07:57:08: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:08: 2025-08-30T14:57:08.380Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:08: 2025-08-30T14:57:08.567Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:15: 2025-08-30T14:57:15.119Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:15: 2025-08-30T14:57:15.120Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:15: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:15: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:15: Database password: ********************
2025-08-30T07:57:15: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:15: 2025-08-30T14:57:15.122Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:15: 2025-08-30T14:57:15.298Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:21: 2025-08-30T14:57:21.886Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:21: 2025-08-30T14:57:21.888Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:21: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:21: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:21: Database password: ********************
2025-08-30T07:57:21: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:21: 2025-08-30T14:57:21.890Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:22: 2025-08-30T14:57:22.066Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:28: 2025-08-30T14:57:28.740Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:28: 2025-08-30T14:57:28.742Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:28: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:28: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:28: Database password: ********************
2025-08-30T07:57:28: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:28: 2025-08-30T14:57:28.744Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:28: 2025-08-30T14:57:28.927Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:35: 2025-08-30T14:57:35.472Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:35: 2025-08-30T14:57:35.474Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:35: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:35: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:35: Database password: ********************
2025-08-30T07:57:35: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:35: 2025-08-30T14:57:35.476Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:35: 2025-08-30T14:57:35.658Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:42: 2025-08-30T14:57:42.232Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:42: 2025-08-30T14:57:42.234Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:42: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:42: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:42: Database password: ********************
2025-08-30T07:57:42: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:42: 2025-08-30T14:57:42.236Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:42: 2025-08-30T14:57:42.413Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:49: 2025-08-30T14:57:49.052Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:49: 2025-08-30T14:57:49.054Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:49: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:49: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:49: Database password: ********************
2025-08-30T07:57:49: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:49: 2025-08-30T14:57:49.056Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:49: 2025-08-30T14:57:49.234Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T07:57:55: 2025-08-30T14:57:55.794Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T07:57:55: 2025-08-30T14:57:55.797Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T07:57:55: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T07:57:55: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T07:57:55: Database password: ********************
2025-08-30T07:57:55: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:55: 2025-08-30T14:57:55.799Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T07:57:55: 2025-08-30T14:57:55.978Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T08:04:41: 2025-08-30T15:04:41.151Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T08:04:41: 2025-08-30T15:04:41.153Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T08:04:41: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T08:04:41: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T08:04:41: Database password: ********************
2025-08-30T08:04:41: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:04:41: 2025-08-30T15:04:41.155Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:04:41: 2025-08-30T15:04:41.343Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T08:04:41: âœ… FMB MS SQL database connected successfully
2025-08-30T08:04:41: 2025-08-30T15:04:41.344Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T08:04:41: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T08:04:41: 2025-08-30T15:04:41.344Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T08:04:41: 2025-08-30T15:04:41.348Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T08:04:41: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T08:04:41: 2025-08-30T15:04:41.349Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T08:04:41: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T08:04:41: 2025-08-30T15:04:41.354Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T08:04:41: Database password: ********************
2025-08-30T08:04:41: 2025-08-30T15:04:41.354Z ğŸ”µ [FMB-SAML] Using memory session store for FMB SAML authentication
2025-08-30T08:04:41: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T08:04:41: 2025-08-30T15:04:41.355Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T08:04:41: 2025-08-30T15:04:41.362Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T08:04:41: 2025-08-30T15:04:41.362Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T08:04:41: 2025-08-30T15:04:41.362Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T08:05:00: 2025-08-30T15:05:00.462Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:52528",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T08:05:00: 2025-08-30T15:05:00.572Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T08:05:00: 2025-08-30T15:05:00.573Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.769Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.770Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        INSERT INTO users (id, email, first_name, last_name, profile_image_url, 
                  ... { paramCount: 8 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.871Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.872Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.907Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.907Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T08:05:00: 2025-08-30T15:05:00.962Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:05:00: 2025-08-30T15:05:00.996Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:05:01: 2025-08-30T15:05:01.327Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:52528",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "vpwAEN2APOnDQS9idvWBaIDdwKDpMwov",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:05:01: 2025-08-30T15:05:01.327Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:52528",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "vpwAEN2APOnDQS9idvWBaIDdwKDpMwov"
}
2025-08-30T08:05:01: 2025-08-30T15:05:01.346Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:52528',
  sessionId: 'vpwAEN2APOnDQS9idvWBaIDdwKDpMwov'
}
2025-08-30T08:05:41: 2025-08-30T15:05:41.767Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.211.163:49351",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "mCcA8caNd_EABunifkb2y2YwkR_kfmjE",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:05:41: 2025-08-30T15:05:41.767Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.211.163:49351",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "mCcA8caNd_EABunifkb2y2YwkR_kfmjE"
}
2025-08-30T08:05:42: 2025-08-30T15:05:42.204Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.211.163:49351',
  sessionId: 'TFIglnVpNEy3D94OzyscTCVJZnJ7OBpu'
}
2025-08-30T08:09:23: 2025-08-30T15:09:23.435Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.211.163:52861",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "4q_HYoqTHCXx6-qynWu3646d-wVSyarg",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:09:23: 2025-08-30T15:09:23.435Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.211.163:52861",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "4q_HYoqTHCXx6-qynWu3646d-wVSyarg"
}
2025-08-30T08:09:23: 2025-08-30T15:09:23.405Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.211.163:52861',
  sessionId: 'Kenc5cD3t_b2uQzdp44msj0_onLET54K'
}
2025-08-30T08:25:51: 2025-08-30T15:25:51.018Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T08:25:51: 2025-08-30T15:25:51.020Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T08:25:51: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T08:25:51: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T08:25:51: Database password: ********************
2025-08-30T08:25:51: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:25:51: 2025-08-30T15:25:51.022Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:25:51: 2025-08-30T15:25:51.202Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T08:25:51: âœ… FMB MS SQL database connected successfully
2025-08-30T08:25:51: 2025-08-30T15:25:51.203Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T08:25:51: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T08:25:51: 2025-08-30T15:25:51.203Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T08:25:51: 2025-08-30T15:25:51.207Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T08:25:51: 2025-08-30T15:25:51.207Z ğŸŸ¢ [SESSION] Using memory session store
2025-08-30T08:25:51: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T08:25:51: 2025-08-30T15:25:51.208Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T08:25:51: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T08:25:51: 2025-08-30T15:25:51.213Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T08:25:51: Database password: ********************
2025-08-30T08:25:51: 2025-08-30T15:25:51.214Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T08:25:51: 2025-08-30T15:25:51.215Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T08:25:51: 2025-08-30T15:25:51.221Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T08:25:51: 2025-08-30T15:25:51.222Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T08:25:51: 2025-08-30T15:25:51.222Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T08:25:59: 2025-08-30T15:25:59.186Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:56227",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T08:25:59: 2025-08-30T15:25:59.260Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T08:25:59: 2025-08-30T15:25:59.261Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.427Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.428Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        INSERT INTO users (id, email, first_name, last_name, profile_image_url, 
                  ... { paramCount: 8 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.530Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.531Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.564Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.564Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T08:25:59: 2025-08-30T15:25:59.607Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:25:59: 2025-08-30T15:25:59.639Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:26:00: 2025-08-30T15:26:00.066Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:56227",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "d87GOgor40oXGgD_2PblgCHRf-DVzCOc",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:26:00: 2025-08-30T15:26:00.067Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:56227",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "d87GOgor40oXGgD_2PblgCHRf-DVzCOc"
}
2025-08-30T08:26:00: 2025-08-30T15:26:00.088Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:56227',
  sessionId: 'd87GOgor40oXGgD_2PblgCHRf-DVzCOc'
}
2025-08-30T08:31:02: 2025-08-30T15:31:02.213Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T08:31:02: 2025-08-30T15:31:02.215Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T08:31:02: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T08:31:02: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T08:31:02: Database password: ********************
2025-08-30T08:31:02: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:31:02: 2025-08-30T15:31:02.217Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:31:02: 2025-08-30T15:31:02.408Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T08:31:02: âœ… FMB MS SQL database connected successfully
2025-08-30T08:31:02: 2025-08-30T15:31:02.408Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T08:31:02: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T08:31:02: 2025-08-30T15:31:02.409Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T08:31:02: 2025-08-30T15:31:02.412Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T08:31:02: 2025-08-30T15:31:02.898Z ğŸŸ¡ [SESSION] Failed to initialize MS SQL session store, falling back to memory store: {}
2025-08-30T08:31:02: 2025-08-30T15:31:02.899Z ğŸŸ¢ [SESSION] Using memory session store as fallback
2025-08-30T08:31:02: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T08:31:02: 2025-08-30T15:31:02.900Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T08:31:02: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T08:31:02: 2025-08-30T15:31:02.904Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T08:31:02: Database password: ********************
2025-08-30T08:31:02: 2025-08-30T15:31:02.904Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T08:31:02: 2025-08-30T15:31:02.906Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T08:31:02: 2025-08-30T15:31:02.916Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T08:31:02: 2025-08-30T15:31:02.917Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T08:31:02: 2025-08-30T15:31:02.917Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T08:31:06: 2025-08-30T15:31:06.019Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:56560",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T08:31:06: 2025-08-30T15:31:06.088Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T08:31:06: 2025-08-30T15:31:06.089Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.221Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.222Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.322Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.323Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.354Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.355Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T08:31:06: 2025-08-30T15:31:06.400Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.429Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:31:06: 2025-08-30T15:31:06.853Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:56560",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "IJJGWHeKhcKP1injvqcsk7ZG1frJL3-_",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:31:06: 2025-08-30T15:31:06.853Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:56560",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "IJJGWHeKhcKP1injvqcsk7ZG1frJL3-_"
}
2025-08-30T08:31:06: 2025-08-30T15:31:06.881Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:56560',
  sessionId: 'IJJGWHeKhcKP1injvqcsk7ZG1frJL3-_'
}
2025-08-30T08:51:00: 2025-08-30T15:51:00.086Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T08:51:00: 2025-08-30T15:51:00.088Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T08:51:00: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T08:51:00: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T08:51:00: Database password: ********************
2025-08-30T08:51:00: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:51:00: 2025-08-30T15:51:00.090Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T08:51:00: 2025-08-30T15:51:00.280Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T08:51:00: âœ… FMB MS SQL database connected successfully
2025-08-30T08:51:00: 2025-08-30T15:51:00.281Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T08:51:00: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T08:51:00: 2025-08-30T15:51:00.281Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T08:51:00: 2025-08-30T15:51:00.286Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T08:51:00: 2025-08-30T15:51:00.748Z ğŸŸ¡ [SESSION] Failed to initialize MS SQL session store, falling back to memory store: {}
2025-08-30T08:51:00: 2025-08-30T15:51:00.749Z ğŸŸ¢ [SESSION] Using memory session store as fallback
2025-08-30T08:51:00: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T08:51:00: 2025-08-30T15:51:00.750Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T08:51:00: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T08:51:00: 2025-08-30T15:51:00.754Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T08:51:00: Database password: ********************
2025-08-30T08:51:00: 2025-08-30T15:51:00.754Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T08:51:00: 2025-08-30T15:51:00.755Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T08:51:00: 2025-08-30T15:51:00.761Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T08:51:00: 2025-08-30T15:51:00.761Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T08:51:00: 2025-08-30T15:51:00.761Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T08:51:01: 2025-08-30T15:51:01.110Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "o7LGXDCqI6cK5cZwH9PbkVTOTdwsAylr",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:51:01: 2025-08-30T15:51:01.110Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "o7LGXDCqI6cK5cZwH9PbkVTOTdwsAylr"
}
2025-08-30T08:51:01: 2025-08-30T15:51:01.135Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65400',
  sessionId: 'MeVjheZAC0YV3kYIMpxbGA0XDZzitzyI'
}
2025-08-30T08:51:07: 2025-08-30T15:51:07.111Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T08:51:07: 2025-08-30T15:51:07.181Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T08:51:07: 2025-08-30T15:51:07.183Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.340Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.341Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        INSERT INTO users (id, email, first_name, last_name, profile_image_url, 
                  ... { paramCount: 8 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.441Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.442Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.475Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.475Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T08:51:07: 2025-08-30T15:51:07.517Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.551Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:51:07: 2025-08-30T15:51:07.917Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:51:07: 2025-08-30T15:51:07.917Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z"
}
2025-08-30T08:51:07: 2025-08-30T15:51:07.936Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65400',
  sessionId: 'RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z'
}
2025-08-30T08:51:26: 2025-08-30T15:51:26.933Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:51:26: 2025-08-30T15:51:26.934Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z"
}
2025-08-30T08:51:27: 2025-08-30T15:51:27.020Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65400',
  sessionId: 'RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z'
}
2025-08-30T08:51:30: 2025-08-30T15:51:30.002Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:51:30: 2025-08-30T15:51:30.002Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z"
}
2025-08-30T08:51:30: 2025-08-30T15:51:30.026Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65400',
  sessionId: 'RCuJZL_7CSGzZH8frxue3GPZDPpZu_6z'
}
2025-08-30T08:51:34: 2025-08-30T15:51:34.209Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T08:51:34: 2025-08-30T15:51:34.250Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T08:51:34: 2025-08-30T15:51:34.251Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.286Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.286Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.333Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.334Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.363Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.363Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T08:51:34: 2025-08-30T15:51:34.427Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.456Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T08:51:34: 2025-08-30T15:51:34.667Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "bX8kP744UBDB4xf_0FpzcxjYQc_35cQS",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T08:51:34: 2025-08-30T15:51:34.668Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65400",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "bX8kP744UBDB4xf_0FpzcxjYQc_35cQS"
}
2025-08-30T08:51:34: 2025-08-30T15:51:34.689Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65400',
  sessionId: 'bX8kP744UBDB4xf_0FpzcxjYQc_35cQS'
}
2025-08-30T09:10:27: 2025-08-30T16:10:27.707Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:10:27: 2025-08-30T16:10:27.710Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:10:27: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:10:27: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:10:27: Database password: ********************
2025-08-30T09:10:27: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:10:27: 2025-08-30T16:10:27.712Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:10:27: 2025-08-30T16:10:27.898Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:10:27: âœ… FMB MS SQL database connected successfully
2025-08-30T09:10:27: 2025-08-30T16:10:27.899Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:10:27: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:10:27: 2025-08-30T16:10:27.899Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:10:27: 2025-08-30T16:10:27.903Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:10:28: Database password: ********************
2025-08-30T09:10:28: 2025-08-30T16:10:28.246Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStore is not a constructor",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStore is not a constructor\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3281:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: MSSQLStore is not a constructor\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3281:31)\",\"message\":\"MSSQLStore is not a constructor\"}"
}
2025-08-30T09:10:28: 2025-08-30T16:10:28.246Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:10:28: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:10:28: 2025-08-30T16:10:28.247Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:10:28: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:10:28: 2025-08-30T16:10:28.250Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:10:28: Database password: ********************
2025-08-30T09:10:28: 2025-08-30T16:10:28.251Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:10:28: 2025-08-30T16:10:28.252Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:10:28: 2025-08-30T16:10:28.257Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:10:28: 2025-08-30T16:10:28.257Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:10:28: 2025-08-30T16:10:28.257Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:10:33: 2025-08-30T16:10:33.392Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:65155",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T09:10:33: 2025-08-30T16:10:33.466Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T09:10:33: 2025-08-30T16:10:33.467Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.650Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.651Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.746Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.747Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.777Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.777Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T09:10:33: 2025-08-30T16:10:33.822Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T09:10:33: 2025-08-30T16:10:33.852Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:10:34: 2025-08-30T16:10:34.182Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65155",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "oGeM5KNdAfsU9PHjpRr0ou06xD1ZnnJR",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T09:10:34: 2025-08-30T16:10:34.182Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65155",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "oGeM5KNdAfsU9PHjpRr0ou06xD1ZnnJR"
}
2025-08-30T09:10:34: 2025-08-30T16:10:34.201Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65155',
  sessionId: 'oGeM5KNdAfsU9PHjpRr0ou06xD1ZnnJR'
}
2025-08-30T09:15:10: 2025-08-30T16:15:10.071Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:15:10: 2025-08-30T16:15:10.073Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:15:10: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:15:10: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:15:10: Database password: ********************
2025-08-30T09:15:10: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:15:10: 2025-08-30T16:15:10.075Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:15:10: 2025-08-30T16:15:10.252Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:15:10: âœ… FMB MS SQL database connected successfully
2025-08-30T09:15:10: 2025-08-30T16:15:10.253Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:15:10: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:15:10: 2025-08-30T16:15:10.253Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:15:10: 2025-08-30T16:15:10.257Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:15:10: 2025-08-30T16:15:10.620Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "connectMssql.default is not a function",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: connectMssql.default is not a function\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3196:46)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: connectMssql.default is not a function\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3196:46)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)\",\"message\":\"connectMssql.default is not a function\"}"
}
2025-08-30T09:15:10: 2025-08-30T16:15:10.621Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:15:10: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:15:10: 2025-08-30T16:15:10.622Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:15:10: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:15:10: 2025-08-30T16:15:10.627Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:15:10: Database password: ********************
2025-08-30T09:15:10: 2025-08-30T16:15:10.627Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:15:10: 2025-08-30T16:15:10.628Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:15:10: 2025-08-30T16:15:10.634Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:15:10: 2025-08-30T16:15:10.634Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:15:10: 2025-08-30T16:15:10.634Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:15:28: 2025-08-30T16:15:28.376Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:65401",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T09:15:28: 2025-08-30T16:15:28.477Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T09:15:28: 2025-08-30T16:15:28.479Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.621Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.622Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.720Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.721Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.750Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.750Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T09:15:28: 2025-08-30T16:15:28.798Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T09:15:28: 2025-08-30T16:15:28.826Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:15:29: 2025-08-30T16:15:29.617Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65401",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "FxnydZdC0RaYl9Gwb5I419OKphf3J1Wo",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T09:15:29: 2025-08-30T16:15:29.617Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65401",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "FxnydZdC0RaYl9Gwb5I419OKphf3J1Wo"
}
2025-08-30T09:15:29: 2025-08-30T16:15:29.636Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65401',
  sessionId: 'FxnydZdC0RaYl9Gwb5I419OKphf3J1Wo'
}
2025-08-30T09:21:57: 2025-08-30T16:21:57.611Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:21:57: 2025-08-30T16:21:57.613Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:21:57: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:21:57: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:21:57: Database password: ********************
2025-08-30T09:21:57: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:21:57: 2025-08-30T16:21:57.615Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:21:57: 2025-08-30T16:21:57.809Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:21:57: âœ… FMB MS SQL database connected successfully
2025-08-30T09:21:57: 2025-08-30T16:21:57.811Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:21:57: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:21:57: 2025-08-30T16:21:57.811Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:21:57: 2025-08-30T16:21:57.816Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:21:58: 2025-08-30T16:21:58.191Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "connectMssql is not a function",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: connectMssql is not a function\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3283:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: connectMssql is not a function\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3283:31)\",\"message\":\"connectMssql is not a function\"}"
}
2025-08-30T09:21:58: 2025-08-30T16:21:58.191Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:21:58: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:21:58: 2025-08-30T16:21:58.192Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:21:58: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:21:58: 2025-08-30T16:21:58.196Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:21:58: Database password: ********************
2025-08-30T09:21:58: 2025-08-30T16:21:58.196Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:21:58: 2025-08-30T16:21:58.197Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:21:58: 2025-08-30T16:21:58.203Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:21:58: 2025-08-30T16:21:58.203Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:21:58: 2025-08-30T16:21:58.203Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:22:03: 2025-08-30T16:22:03.183Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:57336",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T09:22:03: 2025-08-30T16:22:03.253Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T09:22:03: 2025-08-30T16:22:03.254Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.401Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.402Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.500Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.501Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.531Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.531Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T09:22:03: 2025-08-30T16:22:03.577Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T09:22:03: 2025-08-30T16:22:03.605Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:22:04: 2025-08-30T16:22:04.075Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:57336",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "Xzj_COc-tNAeA5HM6bC-4taRRw98xGuU",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T09:22:04: 2025-08-30T16:22:04.075Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:57336",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "Xzj_COc-tNAeA5HM6bC-4taRRw98xGuU"
}
2025-08-30T09:22:04: 2025-08-30T16:22:04.097Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:57336',
  sessionId: 'Xzj_COc-tNAeA5HM6bC-4taRRw98xGuU'
}
2025-08-30T09:31:54: 2025-08-30T16:31:54.219Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:31:54: 2025-08-30T16:31:54.221Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:31:54: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:31:54: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:31:54: Database password: ********************
2025-08-30T09:31:54: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:31:54: 2025-08-30T16:31:54.223Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:31:54: 2025-08-30T16:31:54.402Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:31:54: âœ… FMB MS SQL database connected successfully
2025-08-30T09:31:54: 2025-08-30T16:31:54.403Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:31:54: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:31:54: 2025-08-30T16:31:54.403Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:31:54: 2025-08-30T16:31:54.407Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:31:54: Database password: ********************
2025-08-30T09:31:54: 2025-08-30T16:31:54.743Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStore is not a constructor",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStore is not a constructor\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3281:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: MSSQLStore is not a constructor\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3281:31)\",\"message\":\"MSSQLStore is not a constructor\"}"
}
2025-08-30T09:31:54: 2025-08-30T16:31:54.743Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:31:54: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:31:54: 2025-08-30T16:31:54.744Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:31:54: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:31:54: 2025-08-30T16:31:54.747Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:31:54: Database password: ********************
2025-08-30T09:31:54: 2025-08-30T16:31:54.748Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:31:54: 2025-08-30T16:31:54.749Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:31:54: 2025-08-30T16:31:54.754Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:31:54: 2025-08-30T16:31:54.754Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:31:54: 2025-08-30T16:31:54.754Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:43:22: 2025-08-30T16:43:22.705Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:43:22: 2025-08-30T16:43:22.707Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:43:22: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:43:22: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:43:22: Database password: ********************
2025-08-30T09:43:22: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:43:22: 2025-08-30T16:43:22.709Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:43:22: 2025-08-30T16:43:22.932Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:43:22: âœ… FMB MS SQL database connected successfully
2025-08-30T09:43:22: 2025-08-30T16:43:22.933Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:43:22: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:43:22: 2025-08-30T16:43:22.933Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:43:22: 2025-08-30T16:43:22.937Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:43:23: 2025-08-30T16:43:23.314Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "(connectMssql.default || connectMssql) is not a function",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: (connectMssql.default || connectMssql) is not a function\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3196:64)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: (connectMssql.default || connectMssql) is not a function\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3196:64)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)\",\"message\":\"(connectMssql.default || connectMssql) is not a function\"}"
}
2025-08-30T09:43:23: 2025-08-30T16:43:23.314Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:43:23: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:43:23: 2025-08-30T16:43:23.315Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:43:23: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:43:23: 2025-08-30T16:43:23.319Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:43:23: Database password: ********************
2025-08-30T09:43:23: 2025-08-30T16:43:23.320Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:43:23: 2025-08-30T16:43:23.321Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:43:23: 2025-08-30T16:43:23.327Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:43:23: 2025-08-30T16:43:23.327Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:43:23: 2025-08-30T16:43:23.327Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:43:28: 2025-08-30T16:43:28.668Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:64764",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T09:43:28: 2025-08-30T16:43:28.736Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T09:43:28: 2025-08-30T16:43:28.737Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:43:28: 2025-08-30T16:43:28.894Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:43:28: 2025-08-30T16:43:28.895Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T09:43:28: 2025-08-30T16:43:28.994Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:43:28: 2025-08-30T16:43:28.995Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:43:29: 2025-08-30T16:43:29.026Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:43:29: 2025-08-30T16:43:29.027Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T09:43:29: 2025-08-30T16:43:29.070Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T09:43:29: 2025-08-30T16:43:29.099Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:43:29: 2025-08-30T16:43:29.532Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:64764",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "rjzxNnC6eXXFOiItL5tA9KAldcpo--lU",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T09:43:29: 2025-08-30T16:43:29.532Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:64764",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "rjzxNnC6eXXFOiItL5tA9KAldcpo--lU"
}
2025-08-30T09:43:29: 2025-08-30T16:43:29.553Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:64764',
  sessionId: 'rjzxNnC6eXXFOiItL5tA9KAldcpo--lU'
}
2025-08-30T09:49:39: 2025-08-30T16:49:39.465Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:49:39: 2025-08-30T16:49:39.467Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:49:39: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:49:39: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:49:39: Database password: ********************
2025-08-30T09:49:39: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:49:39: 2025-08-30T16:49:39.469Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:49:39: 2025-08-30T16:49:39.658Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:49:39: âœ… FMB MS SQL database connected successfully
2025-08-30T09:49:39: 2025-08-30T16:49:39.659Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:49:39: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:49:39: 2025-08-30T16:49:39.659Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:49:39: 2025-08-30T16:49:39.663Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:49:40: Database password: ********************
2025-08-30T09:49:40: 2025-08-30T16:49:40.004Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStore is not a constructor",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStore is not a constructor\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3280:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: MSSQLStore is not a constructor\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3280:31)\",\"message\":\"MSSQLStore is not a constructor\"}"
}
2025-08-30T09:49:40: 2025-08-30T16:49:40.005Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:49:40: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:49:40: 2025-08-30T16:49:40.005Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:49:40: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:49:40: 2025-08-30T16:49:40.009Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:49:40: Database password: ********************
2025-08-30T09:49:40: 2025-08-30T16:49:40.009Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:49:40: 2025-08-30T16:49:40.011Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:49:40: 2025-08-30T16:49:40.016Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:49:40: 2025-08-30T16:49:40.016Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:49:40: 2025-08-30T16:49:40.016Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T09:49:56: 2025-08-30T16:49:56.713Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:65183",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T09:49:56: 2025-08-30T16:49:56.786Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T09:49:56: 2025-08-30T16:49:56.788Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:49:56: 2025-08-30T16:49:56.937Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:49:56: 2025-08-30T16:49:56.938Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.036Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.037Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.069Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.069Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T09:49:57: 2025-08-30T16:49:57.114Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.147Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T09:49:57: 2025-08-30T16:49:57.538Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:65183",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "SkQQYnx55s7SppmagN0JSPADjuzvVAyz",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T09:49:57: 2025-08-30T16:49:57.539Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:65183",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "SkQQYnx55s7SppmagN0JSPADjuzvVAyz"
}
2025-08-30T09:49:57: 2025-08-30T16:49:57.566Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:65183',
  sessionId: 'SkQQYnx55s7SppmagN0JSPADjuzvVAyz'
}
2025-08-30T09:55:29: 2025-08-30T16:55:29.418Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:55:29: 2025-08-30T16:55:29.420Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:55:29: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:55:29: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:55:29: Database password: ********************
2025-08-30T09:55:29: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:29: 2025-08-30T16:55:29.422Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:29: 2025-08-30T16:55:29.645Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:55:36: 2025-08-30T16:55:36.155Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:55:36: 2025-08-30T16:55:36.157Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:55:36: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:55:36: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:55:36: Database password: ********************
2025-08-30T09:55:36: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:36: 2025-08-30T16:55:36.159Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:36: 2025-08-30T16:55:36.326Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:55:42: 2025-08-30T16:55:42.907Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:55:42: 2025-08-30T16:55:42.908Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:55:42: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:55:42: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:55:42: Database password: ********************
2025-08-30T09:55:42: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:42: 2025-08-30T16:55:42.910Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:43: 2025-08-30T16:55:43.092Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:55:49: 2025-08-30T16:55:49.582Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:55:49: 2025-08-30T16:55:49.584Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:55:49: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:55:49: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:55:49: Database password: ********************
2025-08-30T09:55:49: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:49: 2025-08-30T16:55:49.586Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:49: 2025-08-30T16:55:49.751Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:55:56: 2025-08-30T16:55:56.287Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:55:56: 2025-08-30T16:55:56.289Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:55:56: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:55:56: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:55:56: Database password: ********************
2025-08-30T09:55:56: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:56: 2025-08-30T16:55:56.291Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:55:56: 2025-08-30T16:55:56.480Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:56:02: 2025-08-30T16:56:02.937Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:56:02: 2025-08-30T16:56:02.939Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:56:02: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:56:02: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:56:02: Database password: ********************
2025-08-30T09:56:02: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:02: 2025-08-30T16:56:02.941Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:03: 2025-08-30T16:56:03.120Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:56:09: 2025-08-30T16:56:09.701Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:56:09: 2025-08-30T16:56:09.704Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:56:09: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:56:09: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:56:09: Database password: ********************
2025-08-30T09:56:09: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:09: 2025-08-30T16:56:09.706Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:09: 2025-08-30T16:56:09.878Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:56:16: 2025-08-30T16:56:16.474Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:56:16: 2025-08-30T16:56:16.476Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:56:16: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:56:16: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:56:16: Database password: ********************
2025-08-30T09:56:16: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:16: 2025-08-30T16:56:16.478Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:16: 2025-08-30T16:56:16.649Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:56:23: 2025-08-30T16:56:23.246Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:56:23: 2025-08-30T16:56:23.248Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:56:23: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:56:23: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:56:23: Database password: ********************
2025-08-30T09:56:23: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:23: 2025-08-30T16:56:23.250Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:23: 2025-08-30T16:56:23.424Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:56:29: 2025-08-30T16:56:29.988Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:56:29: 2025-08-30T16:56:29.990Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:56:29: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:56:29: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:56:29: Database password: ********************
2025-08-30T09:56:29: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:29: 2025-08-30T16:56:29.992Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:56:30: 2025-08-30T16:56:30.162Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:59:01: 2025-08-30T16:59:01.568Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T09:59:01: 2025-08-30T16:59:01.570Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T09:59:01: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T09:59:01: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T09:59:01: Database password: ********************
2025-08-30T09:59:01: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:59:01: 2025-08-30T16:59:01.572Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T09:59:01: 2025-08-30T16:59:01.750Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T09:59:01: âœ… FMB MS SQL database connected successfully
2025-08-30T09:59:01: 2025-08-30T16:59:01.751Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T09:59:01: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T09:59:01: 2025-08-30T16:59:01.751Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T09:59:01: 2025-08-30T16:59:01.755Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T09:59:02: Database password: ********************
2025-08-30T09:59:02: 2025-08-30T16:59:02.146Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStore is not a constructor",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStore is not a constructor\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3280:31)",
  "originalError": "NO_ORIGINAL",
  "number": "NO_NUMBER",
  "severity": "NO_SEVERITY",
  "state": "NO_STATE",
  "fullError": "{\"stack\":\"TypeError: MSSQLStore is not a constructor\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:29)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3280:31)\",\"message\":\"MSSQLStore is not a constructor\"}"
}
2025-08-30T09:59:02: 2025-08-30T16:59:02.146Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T09:59:02: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T09:59:02: 2025-08-30T16:59:02.147Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T09:59:02: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T09:59:02: 2025-08-30T16:59:02.151Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T09:59:02: Database password: ********************
2025-08-30T09:59:02: 2025-08-30T16:59:02.151Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T09:59:02: 2025-08-30T16:59:02.152Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T09:59:02: 2025-08-30T16:59:02.157Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T09:59:02: 2025-08-30T16:59:02.158Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T09:59:02: 2025-08-30T16:59:02.158Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T10:07:52: 2025-08-30T17:07:52.146Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T10:07:52: 2025-08-30T17:07:52.148Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T10:07:52: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T10:07:52: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T10:07:52: Database password: ********************
2025-08-30T10:07:52: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:07:52: 2025-08-30T17:07:52.149Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:07:52: 2025-08-30T17:07:52.327Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T10:07:52: âœ… FMB MS SQL database connected successfully
2025-08-30T10:07:52: 2025-08-30T17:07:52.328Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T10:07:52: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T10:07:52: 2025-08-30T17:07:52.329Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T10:07:52: 2025-08-30T17:07:52.333Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T10:07:52: 2025-08-30T17:07:52.652Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "connectMssql is not a function",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: connectMssql is not a function\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3269:31)",
  "fullError": "{\"stack\":\"TypeError: connectMssql is not a function\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3269:31)\",\"message\":\"connectMssql is not a function\"}"
}
2025-08-30T10:07:52: 2025-08-30T17:07:52.653Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T10:07:52: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T10:07:52: 2025-08-30T17:07:52.654Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T10:07:52: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T10:07:52: 2025-08-30T17:07:52.657Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T10:07:52: Database password: ********************
2025-08-30T10:07:52: 2025-08-30T17:07:52.657Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T10:07:52: 2025-08-30T17:07:52.659Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T10:07:52: 2025-08-30T17:07:52.663Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T10:07:52: 2025-08-30T17:07:52.663Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T10:07:52: 2025-08-30T17:07:52.664Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T10:12:37: 2025-08-30T17:12:37.065Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T10:12:37: 2025-08-30T17:12:37.067Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T10:12:37: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T10:12:37: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T10:12:37: Database password: ********************
2025-08-30T10:12:37: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:12:37: 2025-08-30T17:12:37.069Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:12:37: 2025-08-30T17:12:37.249Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T10:12:37: âœ… FMB MS SQL database connected successfully
2025-08-30T10:12:37: 2025-08-30T17:12:37.250Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T10:12:37: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T10:12:37: 2025-08-30T17:12:37.250Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T10:12:37: 2025-08-30T17:12:37.254Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T10:12:37: 2025-08-30T17:12:37.254Z ğŸŸ¡ [SESSION] Sravan
2025-08-30T10:12:37: Database password: ********************
2025-08-30T10:12:37: 2025-08-30T17:12:37.570Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStore is not a constructor",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStore is not a constructor\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3195:29)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3265:31)",
  "fullError": "{\"stack\":\"TypeError: MSSQLStore is not a constructor\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3195:29)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3265:31)\",\"message\":\"MSSQLStore is not a constructor\"}"
}
2025-08-30T10:12:37: 2025-08-30T17:12:37.571Z ğŸŸ¡ [SESSION] Using memory session store as fallback
2025-08-30T10:12:37: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T10:12:37: 2025-08-30T17:12:37.571Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T10:12:37: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T10:12:37: 2025-08-30T17:12:37.575Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T10:12:37: Database password: ********************
2025-08-30T10:12:37: 2025-08-30T17:12:37.576Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T10:12:37: 2025-08-30T17:12:37.577Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T10:12:37: 2025-08-30T17:12:37.582Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T10:12:37: 2025-08-30T17:12:37.582Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T10:12:37: 2025-08-30T17:12:37.582Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T10:19:52: 2025-08-30T17:19:52.158Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T10:19:52: 2025-08-30T17:19:52.159Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T10:19:52: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T10:19:52: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T10:19:52: Database password: ********************
2025-08-30T10:19:52: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:19:52: 2025-08-30T17:19:52.161Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:19:52: 2025-08-30T17:19:52.353Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T10:19:52: âœ… FMB MS SQL database connected successfully
2025-08-30T10:19:52: 2025-08-30T17:19:52.354Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T10:19:52: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T10:19:52: 2025-08-30T17:19:52.354Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T10:19:52: 2025-08-30T17:19:52.358Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T10:19:52: 2025-08-30T17:19:52.687Z ğŸ”´ [SESSION] Failed to initialize MS SQL session store: {
  "message": "MSSQLStoreFactory is not a function",
  "code": "NO_CODE",
  "name": "TypeError",
  "stack": "TypeError: MSSQLStoreFactory is not a function\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)",
  "fullError": "{\"stack\":\"TypeError: MSSQLStoreFactory is not a function\\n    at getSession2 (file:///C:/fmb-timetracker/dist/index.js:3197:26)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3282:31)\",\"message\":\"MSSQLStoreFactory is not a function\"}"
}
2025-08-30T10:19:52: 2025-08-30T17:19:52.695Z ğŸŸ¡ [SESSION] Using default memory session store as final fallback
2025-08-30T10:19:52: Warning: connect.session() MemoryStore is not
designed for a production environment, as it will leak
memory, and will not scale past a single process.
2025-08-30T10:19:52: 2025-08-30T17:19:52.696Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T10:19:52: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T10:19:52: 2025-08-30T17:19:52.700Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T10:19:52: Database password: ********************
2025-08-30T10:19:52: 2025-08-30T17:19:52.700Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T10:19:52: 2025-08-30T17:19:52.702Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T10:19:52: 2025-08-30T17:19:52.707Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T10:19:52: 2025-08-30T17:19:52.707Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T10:19:52: 2025-08-30T17:19:52.707Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T10:19:56: 2025-08-30T17:19:56.747Z ğŸ”µ [FMB-SAML] SAML ACS callback received {
  "ip": "192.168.209.51:51020",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
}
2025-08-30T10:19:56: 2025-08-30T17:19:56.813Z ğŸ”µ [FMB-SAML] SAML authentication successful {
  "nameID": "Sravan.Modugula@fmb.com",
  "email": "Sravan.Modugula@fmb.com",
  "firstName": "Sravan",
  "lastName": "Modugula"
}
2025-08-30T10:19:56: 2025-08-30T17:19:56.814Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T10:19:56: 2025-08-30T17:19:56.954Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T10:19:56: 2025-08-30T17:19:56.955Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: 
        UPDATE users 
        SET first_name = @param0, last_name = @param1, profile_image_url = @p... { paramCount: 7 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.050Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.050Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE email = @param0... { paramCount: 1 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.079Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 1 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.080Z ğŸ”µ [FMB-SAML] User upserted in database: Sravan.Modugula@fmb.com
2025-08-30T10:19:57: 2025-08-30T17:19:57.134Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Running query: SELECT * FROM users WHERE id = @param0... { paramCount: 1 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.163Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { recordCount: 0 }
2025-08-30T10:19:57: 2025-08-30T17:19:57.502Z ğŸŸ¢ [FMB-SAML] Authentication check for GET /api/auth/user {
  "ip": "192.168.209.51:51020",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "82d1CSwY8fklb2oCaQNxOWeW3ZOtVqTE",
  "hasSession": true,
  "isAuthenticated": false
}
2025-08-30T10:19:57: 2025-08-30T17:19:57.502Z ğŸŸ¡ [FMB-SAML] Unauthorized access attempt {
  "path": "/api/auth/user",
  "method": "GET",
  "ip": "192.168.209.51:51020",
  "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
  "sessionId": "82d1CSwY8fklb2oCaQNxOWeW3ZOtVqTE"
}
2025-08-30T10:19:57: 2025-08-30T17:19:57.524Z ğŸ”´ [FRONTEND-API] HTTP 401 error on https://timetracker.fmb.com/api/auth/user {
  data: {
    status: 401,
    statusText: '',
    responseText: '{"message":"Unauthorized"}',
    url: 'https://timetracker.fmb.com/api/auth/user'
  },
  url: 'https://timetracker.fmb.com/',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
  ip: '192.168.209.51:51020',
  sessionId: '82d1CSwY8fklb2oCaQNxOWeW3ZOtVqTE'
}
2025-08-30T10:25:55: 2025-08-30T17:25:55.312Z ğŸŸ¢ [SERVER] Starting TimeTracker application...
2025-08-30T10:25:55: 2025-08-30T17:25:55.314Z ğŸŸ¢ [FMB-ONPREM] Production on-premises environment detected
2025-08-30T10:25:55: ğŸ”§ [DATABASE] Production on-premises mode: Attempting MS SQL Server connection...
2025-08-30T10:25:55: ğŸ”§ Initializing FMB on-premises MS SQL database...
2025-08-30T10:25:55: Database password: ********************
2025-08-30T10:25:55: ğŸ”— Attempting connection to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:25:55: 2025-08-30T17:25:55.316Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Connecting to HUB-SQL1TST-LIS:1433/timetracker
2025-08-30T10:25:55: 2025-08-30T17:25:55.509Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-30T10:25:55: âœ… FMB MS SQL database connected successfully
2025-08-30T10:25:55: 2025-08-30T17:25:55.509Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Already connected to MS SQL Server
2025-08-30T10:25:55: âœ… [DATABASE] MS SQL Server initialized and connected successfully
2025-08-30T10:25:55: 2025-08-30T17:25:55.510Z ğŸŸ¢ [DATABASE] Database initialization completed successfully
2025-08-30T10:25:55: 2025-08-30T17:25:55.514Z ğŸŸ¢ [SESSION] Session configured for production mode
2025-08-30T10:25:55: Database password: ********************
2025-08-30T10:25:55: 2025-08-30T17:25:55.515Z ğŸŸ¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T10:25:55: 2025-08-30T17:25:55.516Z ğŸŸ¢ [SERVER] Session middleware configured successfully
2025-08-30T10:25:55: ğŸš€ Setting up FMB SAML Authentication for On-Premises production environment...
2025-08-30T10:25:55: 2025-08-30T17:25:55.521Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication...
2025-08-30T10:25:55: Database password: ********************
2025-08-30T10:25:55: 2025-08-30T17:25:55.522Z ğŸ”µ [FMB-SAML] Using existing session middleware for FMB SAML authentication
2025-08-30T10:25:55: 2025-08-30T17:25:55.523Z ğŸ”µ [FMB-SAML] FMB SAML Authentication configured successfully
2025-08-30T10:25:55: 2025-08-30T17:25:55.531Z ğŸŸ¢ [SERVER] Server running on http://0.0.0.0:3000
2025-08-30T10:25:55: 2025-08-30T17:25:55.531Z ğŸŸ¢ [SERVER] Environment: production
2025-08-30T10:25:55: 2025-08-30T17:25:55.531Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active
2025-08-30T10:25:55: âœ… Custom MS SQL session store initialized
2025-08-30T10:26:04: RequestError: Invalid column name 'session'.
    at handleError (C:\fmb-timetracker\node_modules\mssql\lib\tedious\request.js:384:15)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at RequestTokenHandler.onErrorMessage (C:\fmb-timetracker\node_modules\tedious\lib\token\handler.js:284:21)
    at Readable.<anonymous> (C:\fmb-timetracker\node_modules\tedious\lib\token\token-stream-parser.js:19:33)
    at Readable.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)
    at Readable.push (node:internal/streams/readable:393:5)
    at nextAsync (node:internal/streams/from:194:22)
You have triggered an unhandledRejection, you may have forgotten to catch a Promise rejection:
Error [ERR_MODULE_NOT_FOUND]: Cannot find module 'C:\fmb-timetracker\dist\index.js' imported from C:\fmb-timetracker\node_modules\pm2\lib\ProcessContainer.js
    at finalizeResolution (node:internal/modules/esm/resolve:274:11)
    at moduleResolve (node:internal/modules/esm/resolve:859:10)
    at defaultResolve (node:internal/modules/esm/resolve:983:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:783:12)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:707:25)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:690:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:307:38)
    at onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:646:36)
    at TracingChannel.tracePromise (node:diagnostics_channel:344:14)
    at ModuleLoader.import (node:internal/modules/esm/loader:645:21)
2025-08-30T15:04:03: 2025-08-30T22:04:03.054Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:10: 2025-08-30T22:04:10.024Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:17: 2025-08-30T22:04:17.104Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:24: 2025-08-30T22:04:24.294Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:31: 2025-08-30T22:04:31.366Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:38: 2025-08-30T22:04:38.361Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:45: 2025-08-30T22:04:45.601Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:52: 2025-08-30T22:04:52.533Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:04:59: 2025-08-30T22:04:59.664Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:05:06: 2025-08-30T22:05:06.492Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:05:47: 2025-08-30T22:05:47.901Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:05:55: 2025-08-30T22:05:55.069Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:01: 2025-08-30T22:06:01.933Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:08: 2025-08-30T22:06:08.742Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:15: 2025-08-30T22:06:15.589Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:22: 2025-08-30T22:06:22.495Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:29: 2025-08-30T22:06:29.534Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:36: 2025-08-30T22:06:36.395Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:43: 2025-08-30T22:06:43.296Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:06:50: 2025-08-30T22:06:50.253Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:19:36: 2025-08-30T22:19:36.268Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:19:43: 2025-08-30T22:19:43.278Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:19:50: 2025-08-30T22:19:50.371Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:19:57: 2025-08-30T22:19:57.293Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:04: 2025-08-30T22:20:04.534Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:11: 2025-08-30T22:20:11.536Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:18: 2025-08-30T22:20:18.491Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:25: 2025-08-30T22:20:25.435Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:32: 2025-08-30T22:20:32.331Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T15:20:39: 2025-08-30T22:20:39.172Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...

