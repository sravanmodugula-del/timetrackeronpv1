# FMB TimeTracker Simple Deployment Script
param(
    [string]$InstallPath = "C:\fmb-timetracker"
)

Write-Host "ğŸš€ FMB TimeTracker Deployment" -ForegroundColor Green

# Check admin privileges
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "âŒ Run as Administrator" -ForegroundColor Red
    exit 1
}

# Create logs directory
if (-not (Test-Path "$InstallPath\logs")) {
    New-Item -ItemType Directory -Path "$InstallPath\logs" -Force | Out-Null
}

# Check .env file
if (-not (Test-Path ".env")) {
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "âœ… Environment file copied" -ForegroundColor Green
    } else {
        Write-Host "âŒ No .env file found" -ForegroundColor Red
        exit 1
    }
}

# Stop existing processes
Write-Host "â¹ï¸ Stopping application..." -ForegroundColor Yellow
npx pm2 delete fmb-timetracker 2>$null

# Install dependencies
Write-Host "ğŸ“¦ Installing dependencies..." -ForegroundColor Yellow
npm install --legacy-peer-deps

# Build application
Write-Host "ğŸ”¨ Building..." -ForegroundColor Yellow
npm run build

if (-not (Test-Path "dist/index.js")) {
    Write-Host "âŒ Build failed" -ForegroundColor Red
    exit 1
}

# Start application
Write-Host "â–¶ï¸ Starting application..." -ForegroundColor Yellow
npx pm2 start ecosystem.config.cjs

# Wait and check status
Start-Sleep -Seconds 15
$status = npx pm2 jlist | ConvertFrom-Json
$app = $status | Where-Object { $_.name -eq "fmb-timetracker" }

if ($app -and $app.pm2_env.status -eq "online") {
    Write-Host "âœ… Deployment successful!" -ForegroundColor Green
    Write-Host "ğŸŒ Check: http://localhost:3000" -ForegroundColor Green
    
    # Health check
    Start-Sleep -Seconds 5
    try {
        $response = Invoke-WebRequest -Uri "http://localhost:3000/health" -UseBasicParsing -TimeoutSec 10
        if ($response.StatusCode -eq 200) {
            Write-Host "âœ… Health check passed" -ForegroundColor Green
        }
    } catch {
        Write-Host "âš ï¸ Health check failed - check logs" -ForegroundColor Yellow
    }
} else {
    Write-Host "âŒ Deployment failed" -ForegroundColor Red
    npx pm2 logs fmb-timetracker --lines 10
    exit 1
}

Write-Host "ğŸ“‹ Commands: npx pm2 status | npx pm2 logs" -ForegroundColor Cyan

2025-09-02T12:57:04: 2025-09-02T19:57:04.505Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-09-02T12:57:04: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ğŸ“¡ version env with Radar: https://dotenvx.com/radar
2025-09-02T12:57:04: [dotenv@17.2.1] injecting env (23) from .env -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com
2025-09-02T12:57:04: ğŸ¢ FMB On-Premises configuration loaded
2025-09-02T12:57:04: ğŸ” [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-09-02T12:57:04: âœ… [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-09-02T12:57:04: ğŸ” [FMB-CONFIG] Certificate length: 1004 characters
2025-09-02T12:57:04: 2025-09-02T19:57:04.514Z ğŸŸ¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-09-02T12:57:04: 2025-09-02T19:57:04.515Z ğŸŸ¢ [CONFIG] FMB session secret validated successfully
2025-09-02T12:57:04: ğŸ”— Connecting to FMB MS SQL database...
2025-09-02T12:57:04: âœ… FMB Database connection established successfully
2025-09-02T12:57:04: 2025-09-02T19:57:04.628Z ğŸŸ¢ [DATABASE] FMB Database initialization completed successfully
2025-09-02T12:57:04: 2025-09-02T19:57:04.632Z ğŸŸ¢ [SESSION] FMB Enterprise Session configured for production mode
2025-09-02T12:57:04: 2025-09-02T19:57:04.633Z ğŸŸ¢ [SESSION] Using memory session store for development/testing
2025-09-02T12:57:04: 2025-09-02T19:57:04.633Z ğŸŸ¢ [SESSION] Session store initialization completed
2025-09-02T12:57:04: Warning: connect.session() MemoryStore is not
2025-09-02T12:57:04: designed for a production environment, as it will leak
2025-09-02T12:57:04: memory, and will not scale past a single process.
2025-09-02T12:57:04: 2025-09-02T19:57:04.634Z ğŸŸ¢ [SERVER] FMB Session middleware configured successfully
2025-09-02T12:57:04: 2025-09-02T19:57:04.637Z ğŸŸ¢ [SECURITY] Enterprise session security middleware activated
2025-09-02T12:57:04: ğŸš€ Setting up FMB SAML Authentication for On-Premises environment...
2025-09-02T12:57:04: 2025-09-02T19:57:04.642Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication
2025-09-02T12:57:04: ğŸ”§ [FMB-DATABASE] Creating new FMB storage instance...
2025-09-02T12:57:04: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: âš™ï¸  enable debug logging with { debug: true }
2025-09-02T12:57:04: [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
2025-09-02T12:57:04: ğŸ¢ FMB On-Premises configuration loaded
2025-09-02T12:57:04: ğŸ” [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-09-02T12:57:04: âœ… [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-09-02T12:57:04: ğŸ” [FMB-CONFIG] Certificate length: 1004 characters
2025-09-02T12:57:04: ğŸ”— [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-09-02T12:57:04: 2025-09-02T19:57:04.647Z ğŸŸ¢ [FMB-SAML] SAML Certificate validation {
2025-09-02T12:57:04:   "certLength": 1004,
2025-09-02T12:57:04:   "hasBeginMarker": true,
2025-09-02T12:57:04:   "hasEndMarker": true
2025-09-02T12:57:04: }
2025-09-02T12:57:04: 2025-09-02T19:57:04.649Z ğŸ”µ [FMB-SAML] FMB SAML Authentication setup completed
2025-09-02T12:57:04: ğŸ›¡ï¸ [SESSION-MGMT] Enterprise session management routes registered
2025-09-02T12:57:04: ğŸ›¡ï¸ [SESSION-MGMT] Enterprise session management routes registered
2025-09-02T12:57:04: 2025-09-02T19:57:04.656Z ğŸŸ¢ [SERVER] FMB TimeTracker running on http://0.0.0.0:3000
2025-09-02T12:57:04: 2025-09-02T19:57:04.656Z ğŸŸ¢ [SERVER] Environment: fmb-onprem
2025-09-02T12:57:04: 2025-09-02T19:57:04.656Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active - SAML authentication enabled
2025-09-02T12:57:04: 2025-09-02T19:57:04.720Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-09-02T12:57:25: 2025-09-02T19:57:25.292Z ğŸ”µ [FMB-SAML] SAML ACS callback received - IdP-initiated flow {
2025-09-02T12:57:25:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:25:   "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
2025-09-02T12:57:25:   "timestamp": "2025-09-02T19:57:25.292Z",
2025-09-02T12:57:25:   "hasBody": true,
2025-09-02T12:57:25:   "bodyKeys": [
2025-09-02T12:57:25:     "SAMLResponse"
2025-09-02T12:57:25:   ],
2025-09-02T12:57:25:   "headers": {
2025-09-02T12:57:25:     "content-type": "application/x-www-form-urlencoded",
2025-09-02T12:57:25:     "content-length": "8093"
2025-09-02T12:57:25:   }
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.380Z ğŸ”µ [FMB-SAML] SAML profile received {
2025-09-02T12:57:25:   "nameID": "Sravan.Modugula@fmb.com",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com",
2025-09-02T12:57:25:   "firstName": "Sravan",
2025-09-02T12:57:25:   "lastName": "Modugula"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: 2025-09-02T19:57:25.487Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045380-mjluy8', recordCount: 1 }
2025-09-02T12:57:25: ğŸ”„ [SQL] 
2025-09-02T12:57:25:  operation on users
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 7 parameters
2025-09-02T12:57:25: âœ… [SQL] Operation completed: 1 rows affected
2025-09-02T12:57:25: 2025-09-02T19:57:25.535Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045488-2r11qq', recordCount: 0 }
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: 2025-09-02T19:57:25.566Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045536-f65bhl', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.567Z ğŸ”µ [FMB-SAML] User upserted in database {
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.567Z ğŸ”µ [FMB-SAML] User authenticated and stored {
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.569Z ğŸŸ¢ [FMB-SAML] Serializing user for session {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "timestamp": "2025-09-02T19:57:25.569Z",
2025-09-02T12:57:25:   "source": "saml"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: ğŸ”µ [FMB-SAML] User session established and saved: Sravan.Modugula@fmb.com
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: 2025-09-02T19:57:25.643Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045613-n16xwn', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.644Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:25: 2025-09-02T19:57:25.784Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045750-svp2ac', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.785Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.820Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045754-xle16g', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.821Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.850Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045757-stztni', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.850Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.854Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045764-6mpmxx', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.855Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.858Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045770-yydh0s', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.858Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.867Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045771-3fy2c6', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.868Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:25: 2025-09-02T19:57:25.869Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843045775-day88t', recordCount: 1 }
2025-09-02T12:57:25: 2025-09-02T19:57:25.870Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:25:   "userId": "user-1756655138413",
2025-09-02T12:57:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:25: }
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: 2025-09-02T19:57:26.060Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046031-vpn0iw', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.061Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.062Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.062Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: 2025-09-02T19:57:26.087Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046057-i18z5c', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.087Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.092Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046062-h90t6q', recordCount: 1 }
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: 2025-09-02T19:57:26.199Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046170-y89wwz', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.200Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.200Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.200Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: 2025-09-02T19:57:26.202Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046172-zu1utn', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.202Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.203Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.203Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.203Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-02T12:57:26: 2025-09-02T19:57:26.206Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046174-vvg8nc', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.206Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.207Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/stats {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.207Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 3 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:26: 2025-09-02T19:57:26.209Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046177-yk0z0f', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.209Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.210Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/project-breakdown {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.210Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.211Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046177-h2u30b', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.212Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.212Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/recent-activity {
2025-09-02T12:57:26:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:26:   "isAuthenticated": true
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.212Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:26:   "userId": "user-1756655138413",
2025-09-02T12:57:26:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:26: }
2025-09-02T12:57:26: 2025-09-02T19:57:26.234Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046200-k59jxz', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.236Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.240Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046207-gu5ixl', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.241Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046208-n3lh1g', recordCount: 1 }
2025-09-02T12:57:26: 2025-09-02T19:57:26.242Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843046208-j0vnz2', recordCount: 1 }
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: 2025-09-02T19:57:28.097Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048066-hlvwe3', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.097Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.098Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:28:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:28:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:28:   "isAuthenticated": true
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.098Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: 2025-09-02T19:57:28.101Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048069-lsj6vo', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.102Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.102Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-02T12:57:28:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:28:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:28:   "isAuthenticated": true
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.102Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:28: 2025-09-02T19:57:28.106Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048071-d7ycgl', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.106Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.108Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048073-clhqem', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.108Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.113Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048084-p7cf16', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.114Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:28:   "userId": "user-1756655138413",
2025-09-02T12:57:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:28: }
2025-09-02T12:57:28: 2025-09-02T19:57:28.126Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048098-w5pgnx', recordCount: 1 }
2025-09-02T12:57:28: 2025-09-02T19:57:28.132Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843048103-gvim9f', recordCount: 1 }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.302Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050273-gdov66', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.302Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.303Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for POST /api/users/change-role {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.303Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [FMB-STORAGE] UPDATE_USER_ROLE: { userId: 'user-1756655138413', role: 'admin' }
2025-09-02T12:57:30: âœ… [FMB-STORAGE] UPDATE_USER_ROLE: Role updated successfully
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.449Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050421-iu14aw', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.449Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.449Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.450Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.456Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050427-fgnbow', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.457Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.457Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.457Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.459Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050429-e1cplj', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.459Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.477Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050450-1fpy06', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.486Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050457-f2j48g', recordCount: 1 }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.559Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050531-65u7ku', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.559Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.562Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050533-eilmjp', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.563Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.565Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050535-npiqe5', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.565Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.569Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050538-xdbnmw', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.569Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.572Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050540-s6rat8', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.572Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.584Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050551-bd4and', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.584Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.593Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050561-ltk1yp', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.594Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.731Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050703-l95h1b', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.731Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.732Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.732Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.760Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050730-t2ih8x', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.761Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.762Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050732-pai5oy', recordCount: 1 }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.847Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050819-bvi5qp', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.848Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.848Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.848Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.854Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050825-3bnl84', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.855Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.855Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-02T12:57:30:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:30:   "isAuthenticated": true
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.855Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:30: 2025-09-02T19:57:30.857Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050827-ds0buv', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.857Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.858Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050827-y8dv46', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.858Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:30:   "userId": "user-1756655138413",
2025-09-02T12:57:30:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:30: }
2025-09-02T12:57:30: 2025-09-02T19:57:30.876Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050848-9ljpnx', recordCount: 1 }
2025-09-02T12:57:30: 2025-09-02T19:57:30.883Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843050855-mwmal4', recordCount: 1 }
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: 2025-09-02T19:57:35.162Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055135-e9e4ua', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.163Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.163Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-02T12:57:35:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:35:   "isAuthenticated": true
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.163Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.163Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-02T12:57:35: 2025-09-02T19:57:35.165Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055133-vc5kh9', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.165Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.166Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-02T12:57:35:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:35:   "isAuthenticated": true
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.166Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: 2025-09-02T19:57:35.167Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055137-1461gm', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.167Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.167Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/projects {
2025-09-02T12:57:35:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:35:   "isAuthenticated": true
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.167Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:35: 2025-09-02T19:57:35.170Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055140-7vhcn1', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.170Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.172Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055141-b1a5tf', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.172Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.172Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/tasks/all {
2025-09-02T12:57:35:   "ip": "192.168.209.85:57549",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528",
2025-09-02T12:57:35:   "isAuthenticated": true
2025-09-02T12:57:35: }
2025-09-02T12:57:35: 2025-09-02T19:57:35.172Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-02T12:57:35:   "userId": "user-1756655138413",
2025-09-02T12:57:35:   "sessionId": "dc058d0b65f35aadca3a8a6a0bb23657f9d9647bbbbe07a7dae36265a063e528"
2025-09-02T12:57:35: }
2025-09-02T12:57:35: ğŸ“‹ Fetching all user tasks for user: user-1756655138413
2025-09-02T12:57:35: 2025-09-02T19:57:35.190Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.195Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055166-l8zsee', recordCount: 1 }
2025-09-02T12:57:35: 2025-09-02T19:57:35.198Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843055168-qinrj7', recordCount: 2 }
2025-09-02T12:57:35: âœ… Found tasks: 1
2025-09-02T12:57:38: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-02T12:57:38: 2025-09-02T19:57:38.805Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756843058777-p1auos', recordCount: 1 }
2025-09-02T12:57:38: 2025-09-02T19:57:38.806Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-02T12:57:38:   "userId": "user-1756655138413",
2025-09-02T12:57:38:   "email": "Sravan.Modugula@fmb.com"
2025-09-02T12:57:38: }
