PS C:\Users\ADM91381> cd..

PS C:\Users> cd..

PS C:\> cd .\fmb-timetracker

PS C:\fmb-timetracker> # FMB TimeTracker On-Premises Deployment Script for Windows
# Updates the application with new version

param(
    [string]$InstallPath = "C:\fmb-timetracker",
    [string]$ServiceName = "FMBTimeTracker"
)

Write-Host "Ã°Å¸Å¡â‚¬ FMB TimeTracker Deployment (Windows)" -ForegroundColor Green
Write-Host "======================================" -ForegroundColor Green

# Check if running as Administrator
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "Ã¢ÂÅ’ This script must be run as Administrator" -ForegroundColor Red
    exit 1
}



# Ensure required directories exist
Write-Host "Ã°Å¸â€œÂ Creating required directories..." -ForegroundColor Yellow
if (-not (Test-Path "$InstallPath\logs")) {
    New-Item -ItemType Directory -Path "$InstallPath\logs" -Force | Out-Null
}
Write-Host "Ã¢Å“â€¦ Directories created" -ForegroundColor Green

# Check for .env file
Write-Host "Ã°Å¸â€Â Validating environment configuration..." -ForegroundColor Yellow
if (-not (Test-Path ".env")) {
    Write-Host "Ã¢Å¡Â Ã¯Â¸Â .env file not found. Checking for .env.fmb-onprem..." -ForegroundColor Yellow
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "Ã¢Å“â€¦ Copied .env.fmb-onprem to .env" -ForegroundColor Green
    } else {
        Write-Host "Ã¢ÂÅ’ No environment file found. Please create .env with required configuration." -ForegroundColor Red
        exit 1
    }
} else {
    Write-Host "Ã¢Å“â€¦ Environment file found" -ForegroundColor Green
}

# Stop PM2 processes
Write-Host "Ã¢ÂÂ¹Ã¯Â¸Â Stopping application..." -ForegroundColor Yellow
try {
    Set-Location $InstallPath
    npx pm2 stop ecosystem.config.cjs
    Write-Host "Ã¢Å“â€¦ Application stopped" -ForegroundColor Green
} catch {
    Write-Host "Ã¢Å¡Â Ã¯Â¸Â Could not stop PM2 processes gracefully" -ForegroundColor Yellow
}

# Update application
Write-Host "Ã°Å¸â€œÂ¦ Installing all dependencies..." -ForegroundColor Yellow
try {
    # Clean install to ensure all dependencies are properly installed
    Remove-Item -Path "node_modules" -Recurse -Force -ErrorAction SilentlyContinue
    Remove-Item -Path "package-lock.json" -Force -ErrorAction SilentlyContinue
    npm install --production=false --legacy-peer-deps
    npm audit fix --force --legacy-peer-deps
    Write-Host "Ã¢Å“â€¦ All dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "Ã¢ÂÅ’ Failed to install dependencies" -ForegroundColor Red
    exit 1
}

# Build application
Write-Host "Ã°Å¸â€Â¨ Building application..." -ForegroundColor Yellow
try {
    npm run build

    # Copy FMB on-premises configuration files to dist
    Write-Host "Ã°Å¸â€œâ€¹ Copying FMB configuration files..." -ForegroundColor Yellow
    if (-not (Test-Path "dist/fmb-onprem")) {
        New-Item -ItemType Directory -Path "dist/fmb-onprem" -Force | Out-Null
        New-Item -ItemType Directory -Path "dist/fmb-onprem/config" -Force | Out-Null
    }

    # Build the TypeScript files for on-prem configs
    npx tsc fmb-onprem/config/fmb-env.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop
    npx tsc fmb-onprem/config/fmb-database.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop

    # Verify build artifacts exist
    if (-not (Test-Path "dist")) {
        Write-Host "Ã¢ÂÅ’ Build directory not found" -ForegroundColor Red
        exit 1
    }

    if (-not (Test-Path "dist/index.js")) {
        Write-Host "Ã¢ÂÅ’ Server build not found" -ForegroundColor Red
        exit 1
    }

    Write-Host "Ã¢Å“â€¦ Application built successfully" -ForegroundColor Green

    Write-Host "Installing production dependencies..." -ForegroundColor Yellow
    # Ensure production dependencies are available for the built application
    npm install --only=production --legacy-peer-deps
    Write-Host "Ã¢Å“â€¦ Production dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "Ã¢ÂÅ’ Build failed" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    exit 1
}

# Skip cleaning dev dependencies to avoid missing Vite plugin errors
Write-Host "Ã°Å¸â€œÂ¦ Keeping all dependencies for Vite compatibility..." -ForegroundColor Yellow
Write-Host "Ã¢Å“â€¦ Dependencies preserved for production build" -ForegroundColor Green

# Health check
Write-Host "Ã°Å¸â€Â Running configuration health check..." -ForegroundColor Yellow
try {
    # Only validate FMB environment if actually deploying on-premises
    # For Replit deployment, skip FMB-specific validation
    $isFmbOnPrem = $env:FMB_DEPLOYMENT -eq "onprem" -and $env:NODE_ENV -eq "production"
    if ($isFmbOnPrem) {
        $env:NODE_ENV = "production"

        # Check if built config exists, otherwise use ts-node for health check
        if (Test-Path "dist/fmb-onprem/config/fmb-env.js") {
            $nodeScript = @"
import('./dist/fmb-onprem/config/fmb-env.js').then(config => {
  config.loadFmbOnPremConfig();
  console.log('Ã¢Å“â€¦ Configuration valid');
}).catch(err => {
  console.error('Ã¢ÂÅ’ Config error:', err.message);
  process.exit(1);
});
"@
            node -e $nodeScript --input-type=module
        } else {
            # Basic FMB environment variable check
            $requiredVars = @('FMB_SESSION_SECRET', 'FMB_DB_SERVER', 'FMB_DB_NAME')
            $missing = @()
            foreach ($var in $requiredVars) {
                if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                    $missing += $var
                }
            }

            if ($missing.Count -gt 0) {
                Write-Host "Ã¢ÂÅ’ Missing required FMB environment variables: $($missing -join ', ')" -ForegroundColor Red
                exit 1
            }

            Write-Host "Ã¢Å“â€¦ FMB environment validation passed" -ForegroundColor Green
        }
    } else {
        Write-Host "Ã¢ËœÂÃ¯Â¸Â Replit deployment detected - skipping FMB on-prem validation" -ForegroundColor Yellow

        # Load environment variables from .env file for validation
        if (Test-Path ".env") {
            Write-Host "Ã°Å¸â€œâ€¹ Loading environment variables from .env file..." -ForegroundColor Yellow
            Get-Content ".env" | ForEach-Object {
                if ($_ -match "^([^#=]+)=(.*)$") {
                    $name = $matches[1].Trim()
                    $value = $matches[2].Trim()
                    [Environment]::SetEnvironmentVariable($name, $value, "Process")
                }
            }
        }

        # Basic validation for environment
        $basicVars = @('NODE_ENV')
        $missing = @()
        foreach ($var in $basicVars) {
            if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                $missing += $var
            }
        }

        if ($missing.Count -gt 0) {
            Write-Host "Ã¢ÂÅ’ Missing basic environment variables: $($missing -join ', ')" -ForegroundColor Red
            Write-Host "Ã°Å¸â€™Â¡ Tip: Ensure .env file contains NODE_ENV=production" -ForegroundColor Yellow
            exit 1
        }

        Write-Host "Ã¢Å“â€¦ Basic environment validation passed" -ForegroundColor Green
    }

    Write-Host "Ã¢Å“â€¦ Configuration validation completed" -ForegroundColor Green
} catch {
    Write-Host "Ã¢ÂÅ’ Configuration validation failed" -ForegroundColor Red
    Write-Host "Please check your .env file and configuration" -ForegroundColor Yellow
    exit 1
}

# Start application
Write-Host "Ã¢â€“Â¶Ã¯Â¸Â Starting application..." -ForegroundColor Yellow
try {
    # Check if PM2 is available
    $pm2Version = npx pm2 --version 2>$null
    if (-not $pm2Version) {
        Write-Host "Ã¢ÂÅ’ PM2 is not available" -ForegroundColor Red
        Write-Host "Installing PM2 globally..." -ForegroundColor Yellow
        npm install -g pm2
    }

    # Stop any existing processes first
    Write-Host "Ã°Å¸â€ºâ€˜ Stopping any existing processes..." -ForegroundColor Yellow
    npx pm2 delete fmb-timetracker 2>$null

    # Start the application with explicit production environment
    Write-Host "Ã°Å¸Å¡â‚¬ Starting application with PM2..." -ForegroundColor Yellow
    npx pm2 start ecosystem.config.cjs --env production --no-daemon

    # Wait for the process to initialize
    Start-Sleep -Seconds 5

    # Check process status multiple times with retries
    $maxRetries = 6
    $retryCount = 0
    $processOnline = $false

    while ($retryCount -lt $maxRetries -and -not $processOnline) {
        $retryCount++
        Write-Host "Ã°Å¸â€Â Checking process status (attempt $retryCount/$maxRetries)..." -ForegroundColor Yellow

        try {
            $processStatus = npx pm2 jlist | ConvertFrom-Json
            $appProcess = $processStatus | Where-Object { $_.name -eq "fmb-timetracker" }

            if ($appProcess) {
                $status = $appProcess.pm2_env.status
                Write-Host "Ã°Å¸â€œÅ  Process status: $status" -ForegroundColor Cyan

                if ($status -eq "online") {
                    $processOnline = $true
                    Write-Host "Ã¢Å“â€¦ Application started successfully" -ForegroundColor Green
                } elseif ($status -eq "errored" -or $status -eq "stopped") {
                    Write-Host "Ã¢ÂÅ’ Application process failed with status: $status" -ForegroundColor Red
                    Write-Host "Ã°Å¸â€œÂ Recent error logs:" -ForegroundColor Yellow
                    npx pm2 logs fmb-timetracker --lines 20 --err
                    exit 1
                } else {
                    Write-Host "Ã¢ÂÂ³ Application still starting (status: $status)..." -ForegroundColor Yellow
                    Start-Sleep -Seconds 5
                }
            } else {
                Write-Host "Ã¢ÂÅ’ No process found with name 'fmb-timetracker'" -ForegroundColor Red
                npx pm2 status
                exit 1
            }
        } catch {
            Write-Host "Ã¢Å¡Â Ã¯Â¸Â Error checking process status: $($_.Exception.Message)" -ForegroundColor Yellow
            Start-Sleep -Seconds 5
        }
    }

    if (-not $processOnline) {
        Write-Host "Ã¢ÂÅ’ Application failed to start within expected time" -ForegroundColor Red
        Write-Host "Ã°Å¸â€œÂ PM2 Status:" -ForegroundColor Yellow
        npx pm2 status
        Write-Host "Ã°Å¸â€œÂ Recent logs:" -ForegroundColor Yellow
        npx pm2 logs fmb-timetracker --lines 20
        exit 1
    }

} catch {
    Write-Host "Ã¢ÂÅ’ Failed to start application" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    Write-Host "Ã°Å¸â€œÂ PM2 Status:" -ForegroundColor Yellow
    npx pm2 status
    Write-Host "Ã°Å¸â€œÂ Recent logs:" -ForegroundColor Yellow
    npx pm2 logs fmb-timetracker --lines 20
    exit 1
}

# Wait for service to be ready
Write-Host "Ã¢ÂÂ³ Waiting for service to be ready..." -ForegroundColor Yellow
Start-Sleep -Seconds 15

# Verify deployment
Write-Host "Ã°Å¸â€Â Verifying deployment..." -ForegroundColor Yellow
try {
    $response = Invoke-WebRequest -Uri "http://localhost:3000/api/health" -TimeoutSec 30
    if ($response.StatusCode -eq 200) {
        Write-Host "Ã¢Å“â€¦ Deployment successful!" -ForegroundColor Green
        Write-Host "Ã°Å¸Å’Â Application is running on port 3000" -ForegroundColor Green
    } else {
        Write-Host "Ã¢ÂÅ’ Health check failed - HTTP Status: $($response.StatusCode)" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "Ã¢ÂÅ’ Deployment verification failed" -ForegroundColor Red
    Write-Host "Ã°Å¸â€œÂ Check application logs: pm2 logs" -ForegroundColor Yellow
    exit 1
}

Write-Host ""
Write-Host "Ã°Å¸â€œâ€¹ Post-deployment commands:" -ForegroundColor Cyan
Write-Host "View status: npx pm2 status" -ForegroundColor White
Write-Host "View logs: npx pm2 logs" -ForegroundColor White
Write-Host "Restart if needed: npx pm2 restart ecosystem.config.cjs" -ForegroundColor White
At line:121 char:52
+ import('./dist/fmb-onprem/config/fmb-env.js').then(config => {
+                                                    ~
Missing ')' in method call.
At line:122 char:30
+   config.loadFmbOnPremConfig();
+                              ~
An expression was expected after '('.
At line:68 char:5
+ try {
+     ~
Missing closing '}' in statement block or type definition.
At line:124 char:2
+ }).catch(err => {
+  ~
The Try statement is missing its Catch or Finally block.
At line:124 char:2
+ }).catch(err => {
+  ~
Unexpected token ')' in expression or statement.
At line:125 char:37
+   console.error('Ã¢ÂÅ’ Config error:', err.message);
+                                     ~
Missing expression after ','.
At line:125 char:38
+   console.error('Ã¢ÂÅ’ Config error:', err.message);
+                                      ~~~~~~~~~~~
Unexpected token 'err.message' in expression or statement.
At line:125 char:37
+   console.error('Ã¢ÂÅ’ Config error:', err.message);
+                                     ~
Missing closing ')' in expression.
At line:124 char:17
+ }).catch(err => {
+                 ~
Missing closing '}' in statement block or type definition.
At line:127 char:1
+ });
+ ~
Unexpected token '}' in expression or statement.
Not all parse errors were reported.  Correct the reported errors and try again.
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : MissingEndParenthesisInMethodCall
 

PS C:\fmb-timetracker> # FMB TimeTracker On-Premises Deployment Script for Windows
# Updates the application with new version

param(
    [string]$InstallPath = "C:\fmb-timetracker",
    [string]$ServiceName = "FMBTimeTracker"
)

Write-Host "ğŸš€ FMB TimeTracker Deployment (Windows)" -ForegroundColor Green
Write-Host "======================================" -ForegroundColor Green

# Check if running as Administrator
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "âŒ This script must be run as Administrator" -ForegroundColor Red
    exit 1
}


# Ensure required directories exist
Write-Host "ğŸ“ Creating required directories..." -ForegroundColor Yellow
if (-not (Test-Path "$InstallPath\logs")) {
    New-Item -ItemType Directory -Path "$InstallPath\logs" -Force | Out-Null
}
Write-Host "âœ… Directories created" -ForegroundColor Green

# Check for .env file
Write-Host "ğŸ” Validating environment configuration..." -ForegroundColor Yellow
if (-not (Test-Path ".env")) {
    Write-Host "âš ï¸ .env file not found. Checking for .env.fmb-onprem..." -ForegroundColor Yellow
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "âœ… Copied .env.fmb-onprem to .env" -ForegroundColor Green
    } else {
        Write-Host "âŒ No environment file found. Please create .env with required configuration." -ForegroundColor Red
        exit 1
    }
} else {
    Write-Host "âœ… Environment file found" -ForegroundColor Green
}

# Stop PM2 processes
Write-Host "â¹ï¸ Stopping application..." -ForegroundColor Yellow
try {
    Set-Location $InstallPath
    npx pm2 stop ecosystem.config.cjs
    Write-Host "âœ… Application stopped" -ForegroundColor Green
} catch {
    Write-Host "âš ï¸ Could not stop PM2 processes gracefully" -ForegroundColor Yellow
}

# Update application
Write-Host "ğŸ“¦ Installing all dependencies..." -ForegroundColor Yellow
try {
    # Clean install to ensure all dependencies are properly installed
    Remove-Item -Path "node_modules" -Recurse -Force -ErrorAction SilentlyContinue
    Remove-Item -Path "package-lock.json" -Force -ErrorAction SilentlyContinue
    npm install --production=false --legacy-peer-deps
    npm audit fix --force --legacy-peer-deps
    Write-Host "âœ… All dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Failed to install dependencies" -ForegroundColor Red
    exit 1
}

# Build application
Write-Host "ğŸ”¨ Building application..." -ForegroundColor Yellow
try {
    npm run build

    # Copy FMB on-premises configuration files to dist
    Write-Host "ğŸ“‹ Copying FMB configuration files..." -ForegroundColor Yellow
    if (-not (Test-Path "dist/fmb-onprem")) {
        New-Item -ItemType Directory -Path "dist/fmb-onprem" -Force | Out-Null
        New-Item -ItemType Directory -Path "dist/fmb-onprem/config" -Force | Out-Null
    }

    # Build the TypeScript files for on-prem configs
    npx tsc fmb-onprem/config/fmb-env.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop
    npx tsc fmb-onprem/config/fmb-database.ts --outDir dist --target es2020 --module es2020 --moduleResolution node --allowSyntheticDefaultImports --esModuleInterop

    # Verify build artifacts exist
    if (-not (Test-Path "dist")) {
        Write-Host "âŒ Build directory not found" -ForegroundColor Red
        exit 1
    }

    if (-not (Test-Path "dist/index.js")) {
        Write-Host "âŒ Server build not found" -ForegroundColor Red
        exit 1
    }

    Write-Host "âœ… Application built successfully" -ForegroundColor Green

    Write-Host "Installing production dependencies..." -ForegroundColor Yellow
    # Ensure production dependencies are available for the built application
    npm install --only=production --legacy-peer-deps
    Write-Host "âœ… Production dependencies installed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Build failed" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    exit 1
}

# Skip cleaning dev dependencies to avoid missing Vite plugin errors
Write-Host "ğŸ“¦ Keeping all dependencies for Vite compatibility..." -ForegroundColor Yellow
Write-Host "âœ… Dependencies preserved for production build" -ForegroundColor Green

# Health check
Write-Host "ğŸ” Running configuration health check..." -ForegroundColor Yellow
try {
    # Only validate FMB environment if actually deploying on-premises
    # For Replit deployment, skip FMB-specific validation
    $isFmbOnPrem = $env:FMB_DEPLOYMENT -eq "onprem" -and $env:NODE_ENV -eq "production"
    if ($isFmbOnPrem) {
        $env:NODE_ENV = "production"

        # Check if built config exists, otherwise use ts-node for health check
        if (Test-Path "dist/fmb-onprem/config/fmb-env.js") {
            $nodeScript = @"
import('./dist/fmb-onprem/config/fmb-env.js').then(config => {
  config.loadFmbOnPremConfig();
  console.log('âœ… Configuration valid');
}).catch(err => {
  console.error('âŒ Config error:', err.message);
  process.exit(1);
});
"@
            node -e $nodeScript --input-type=module
        } else {
            # Basic FMB environment variable check
            $requiredVars = @('FMB_SESSION_SECRET', 'FMB_DB_SERVER', 'FMB_DB_NAME')
            $missing = @()
            foreach ($var in $requiredVars) {
                if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                    $missing += $var
                }
            }

            if ($missing.Count -gt 0) {
                Write-Host "âŒ Missing required FMB environment variables: $($missing -join ', ')" -ForegroundColor Red
                exit 1
            }

            Write-Host "âœ… FMB environment validation passed" -ForegroundColor Green
        }
    } else {
        Write-Host "â˜ï¸ Replit deployment detected - skipping FMB on-prem validation" -ForegroundColor Yellow

        # Load environment variables from .env file for validation
        if (Test-Path ".env") {
            Write-Host "ğŸ“‹ Loading environment variables from .env file..." -ForegroundColor Yellow
            Get-Content ".env" | ForEach-Object {
                if ($_ -match "^([^#=]+)=(.*)$") {
                    $name = $matches[1].Trim()
                    $value = $matches[2].Trim()
                    [Environment]::SetEnvironmentVariable($name, $value, "Process")
                }
            }
        }

        # Basic validation for environment
        $basicVars = @('NODE_ENV')
        $missing = @()
        foreach ($var in $basicVars) {
            if (-not (Get-ChildItem Env: | Where-Object { $_.Name -eq $var })) {
                $missing += $var
            }
        }

        if ($missing.Count -gt 0) {
            Write-Host "âŒ Missing basic environment variables: $($missing -join ', ')" -ForegroundColor Red
            Write-Host "ğŸ’¡ Tip: Ensure .env file contains NODE_ENV=production" -ForegroundColor Yellow
            exit 1
        }

        Write-Host "âœ… Basic environment validation passed" -ForegroundColor Green
    }

    Write-Host "âœ… Configuration validation completed" -ForegroundColor Green
} catch {
    Write-Host "âŒ Configuration validation failed" -ForegroundColor Red
    Write-Host "Please check your .env file and configuration" -ForegroundColor Yellow
    exit 1
}

# Start application
Write-Host "â–¶ï¸ Starting application..." -ForegroundColor Yellow
try {
    # Check if PM2 is available
    $pm2Version = npx pm2 --version 2>$null
    if (-not $pm2Version) {
        Write-Host "âŒ PM2 is not available" -ForegroundColor Red
        Write-Host "Installing PM2 globally..." -ForegroundColor Yellow
        npm install -g pm2
    }

    # Stop any existing processes first
    Write-Host "ğŸ›‘ Stopping any existing processes..." -ForegroundColor Yellow
    npx pm2 delete fmb-timetracker 2>$null

    # Start the application with explicit production environment
    Write-Host "ğŸš€ Starting application with PM2..." -ForegroundColor Yellow
    npx pm2 start ecosystem.config.cjs --env production --no-daemon

    # Wait for the process to initialize
    Start-Sleep -Seconds 5

    # Check process status multiple times with retries
    $maxRetries = 6
    $retryCount = 0
    $processOnline = $false

    while ($retryCount -lt $maxRetries -and -not $processOnline) {
        $retryCount++
        Write-Host "ğŸ” Checking process status (attempt $retryCount/$maxRetries)..." -ForegroundColor Yellow

        try {
            $processStatus = npx pm2 jlist | ConvertFrom-Json
            $appProcess = $processStatus | Where-Object { $_.name -eq "fmb-timetracker" }

            if ($appProcess) {
                $status = $appProcess.pm2_env.status
                Write-Host "ğŸ“Š Process status: $status" -ForegroundColor Cyan

                if ($status -eq "online") {
                    $processOnline = $true
                    Write-Host "âœ… Application started successfully" -ForegroundColor Green
                } elseif ($status -eq "errored" -or $status -eq "stopped") {
                    Write-Host "âŒ Application process failed with status: $status" -ForegroundColor Red
                    Write-Host "ğŸ“ Recent error logs:" -ForegroundColor Yellow
                    npx pm2 logs fmb-timetracker --lines 20 --err
                    exit 1
                } else {
                    Write-Host "â³ Application still starting (status: $status)..." -ForegroundColor Yellow
                    Start-Sleep -Seconds 5
                }
            } else {
                Write-Host "âŒ No process found with name 'fmb-timetracker'" -ForegroundColor Red
                npx pm2 status
                exit 1
            }
        } catch {
            Write-Host "âš ï¸ Error checking process status: $($_.Exception.Message)" -ForegroundColor Yellow
            Start-Sleep -Seconds 5
        }
    }

    if (-not $processOnline) {
        Write-Host "âŒ Application failed to start within expected time" -ForegroundColor Red
        Write-Host "ğŸ“ PM2 Status:" -ForegroundColor Yellow
        npx pm2 status
        Write-Host "ğŸ“ Recent logs:" -ForegroundColor Yellow
        npx pm2 logs fmb-timetracker --lines 20
        exit 1
    }

} catch {
    Write-Host "âŒ Failed to start application" -ForegroundColor Red
    Write-Host "Error: $($_.Exception.Message)" -ForegroundColor Red
    Write-Host "ğŸ“ PM2 Status:" -ForegroundColor Yellow
    npx pm2 status
    Write-Host "ğŸ“ Recent logs:" -ForegroundColor Yellow
    npx pm2 logs fmb-timetracker --lines 20
    exit 1
}

# Wait for service to be ready
Write-Host "â³ Waiting for service to be ready..." -ForegroundColor Yellow
Start-Sleep -Seconds 15

# Verify deployment
Write-Host "ğŸ” Verifying deployment..." -ForegroundColor Yellow
try {
    $response = Invoke-WebRequest -Uri "http://localhost:3000/api/health" -TimeoutSec 30
    if ($response.StatusCode -eq 200) {
        Write-Host "âœ… Deployment successful!" -ForegroundColor Green
        Write-Host "ğŸŒ Application is running on port 3000" -ForegroundColor Green
    } else {
        Write-Host "âŒ Health check failed - HTTP Status: $($response.StatusCode)" -ForegroundColor Red
        exit 1
    }
} catch {
    Write-Host "âŒ Deployment verification failed" -ForegroundColor Red
    Write-Host "ğŸ“ Check application logs: pm2 logs" -ForegroundColor Yellow
    exit 1
}

Write-Host ""
Write-Host "ğŸ“‹ Post-deployment commands:" -ForegroundColor Cyan
Write-Host "View status: npx pm2 status" -ForegroundColor White
Write-Host "View logs: npx pm2 logs" -ForegroundColor White
Write-Host "Restart if needed: npx pm2 restart ecosystem.config.cjs" -ForegroundColor White
ğŸš€ FMB TimeTracker Deployment (Windows)
======================================
ğŸ“ Creating required directories...
âœ… Directories created
ğŸ” Validating environment configuration...
âœ… Environment file found
â¹ï¸ Stopping application...
[PM2] [fmb-timetracker](0) Ã¢Å“â€œ
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name               Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€Å“Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¤
Ã¢â€â€š 0  Ã¢â€â€š fmb-timetracker    Ã¢â€â€š default     Ã¢â€â€š 1.0.0   Ã¢â€â€š cluster Ã¢â€â€š 0        Ã¢â€â€š 0      Ã¢â€â€š 9    Ã¢â€â€š stopped   Ã¢â€â€š 0%       Ã¢â€â€š 0b       Ã¢â€â€š ADM91381 Ã¢â€â€š disabled Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
âœ… Application stopped
ğŸ“¦ Installing all dependencies...
node.exe : npm warn config production Use `--omit=dev` instead.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...t=dev` instead.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn deprecated @xmldom/xmldom@0.7.13: this version is no longer supported, please update to at least 0.8.*
npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See 
https://v8.dev/blog/math-random for details.
npm warn deprecated adal-node@0.2.4: This package is no longer supported. Please migrate to @azure/msal-node.
npm warn deprecated passport-saml@3.2.4: For versions >= 4, please use scopped package @node-saml/passport-saml

added 810 packages, and audited 811 packages in 3m

111 packages are looking for funding
  run `npm fund` for details

8 vulnerabilities (1 low, 1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
node.exe : npm warn using --force Recommended protections disabled.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn using ...tions disabled.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn audit No fix available for passport-saml@*
npm warn audit No fix available for pm2@*

up to date, audited 811 packages in 3s

111 packages are looking for funding
  run `npm fund` for details

# npm audit report

axios  <=0.29.0
Severity: high
Axios Cross-Site Request Forgery Vulnerability - https://github.com/advisories/GHSA-wf5p-g6vw-rhxx
axios Requests Vulnerable To Possible SSRF and Credential Leakage via Absolute URL - https://github.com/advisories/GHSA-jr5f-v2jv-69x6
fix available via `npm audit fix`
node_modules/axios
  adal-node  0.2.2-beta.0 - 0.2.4
  Depends on vulnerable versions of axios
  node_modules/adal-node
    @azure/ms-rest-nodeauth  >=3.0.10
    Depends on vulnerable versions of adal-node
    node_modules/@azure/ms-rest-nodeauth
      tedious  6.7.1 || 12.3.0-alpha.1 - 12.3.0
      Depends on vulnerable versions of @azure/ms-rest-nodeauth
      node_modules/connect-mssql-v2/node_modules/tedious
        mssql  6.4.0 - 6.4.1
        Depends on vulnerable versions of tedious
        node_modules/connect-mssql-v2/node_modules/mssql

passport-saml  *
Severity: critical
Node-SAML SAML Signature Verification Vulnerability - https://github.com/advisories/GHSA-4mxg-3p6v-xgq3
Depends on vulnerable versions of xml2js
No fix available
node_modules/passport-saml

pm2  *
pm2 Regular Expression Denial of Service vulnerability - https://github.com/advisories/GHSA-x5gf-qvw8-r2rm
No fix available
node_modules/pm2

xml2js  <0.5.0
Severity: moderate
xml2js is vulnerable to prototype pollution - https://github.com/advisories/GHSA-776f-qx25-q3cc
No fix available
node_modules/passport-saml/node_modules/xml2js

8 vulnerabilities (1 low, 1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.
âœ… All dependencies installed
ğŸ”¨ Building application...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

[36mvite v7.1.3 [32mbuilding for production...[36m[39m
transforming...
[32mÃ¢Å“â€œ[39m 2077 modules transformed.
rendering chunks...
computing gzip size...
[2m../dist/public/[22m[32mindex.html                 [39m[1m[2m  0.86 kB[22m[1m[22m[2m Ã¢â€â€š gzip:   0.44 kB[22m
[2m../dist/public/[22m[35massets/index-81F4Kgy-.css  [39m[1m[2m 70.03 kB[22m[1m[22m[2m Ã¢â€â€š gzip:  12.48 kB[22m
[2m../dist/public/[22m[36massets/index-DcguImM-.js   [39m[1m[33m635.18 kB[39m[22m[2m Ã¢â€â€š gzip: 179.38 kB[22m
node.exe : [33m
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([33m:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.[39m
[32mÃ¢Å“â€œ built in 7.94s[39m
Ã¢â€“Â² [WARNING] Duplicate member "getTasks" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:333:8:
      333 Ã¢â€â€š   async getTasks(userId: string): Promise<Task[]> {
          Ã¢â€¢Âµ         ~~~~~~~~
  The original member "getTasks" is here:
    fmb-onprem/storage/fmb-storage.ts:44:8:
      44 Ã¢â€â€š   async getTasks(): Promise<any[]> { return []; }
         Ã¢â€¢Âµ         ~~~~~~~~
Ã¢â€“Â² [WARNING] Duplicate member "getTaskById" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:343:8:
      343 Ã¢â€â€š   async getTaskById(id: string): Promise<Task | null> {
          Ã¢â€¢Âµ         ~~~~~~~~~~~
  The original member "getTaskById" is here:
    fmb-onprem/storage/fmb-storage.ts:45:8:
      45 Ã¢â€â€š   async getTaskById(id: string): Promise<any> { return null; }
         Ã¢â€¢Âµ         ~~~~~~~~~~~
Ã¢â€“Â² [WARNING] Duplicate member "getEmployees" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:458:8:
      458 Ã¢â€â€š   async getEmployees(userId: string): Promise<Employee[]> {
          Ã¢â€¢Âµ         ~~~~~~~~~~~~
  The original member "getEmployees" is here:
    fmb-onprem/storage/fmb-storage.ts:50:8:
      50 Ã¢â€â€š   async getEmployees(): Promise<any[]> { return []; }
         Ã¢â€¢Âµ         ~~~~~~~~~~~~
Ã¢â€“Â² [WARNING] Duplicate member "getEmployeeById" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:463:8:
      463 Ã¢â€â€š   async getEmployeeById(id: string): Promise<Employee | null> {
          Ã¢â€¢Âµ         ~~~~~~~~~~~~~~~
  The original member "getEmployeeById" is here:
    fmb-onprem/storage/fmb-storage.ts:51:8:
      51 Ã¢â€â€š   async getEmployeeById(id: string): Promise<any> { return null; }
         Ã¢â€¢Âµ         ~~~~~~~~~~~~~~~
Ã¢â€“Â² [WARNING] Duplicate member "updateEmployee" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:482:8:
      482 Ã¢â€â€š   async updateEmployee(id: string, employeeData: Partial<InsertEm...
          Ã¢â€¢Âµ         ~~~~~~~~~~~~~~
  The original member "updateEmployee" is here:
    fmb-onprem/storage/fmb-storage.ts:52:8:
      52 Ã¢â€â€š   async updateEmployee(id: string, employee: any): Promise<any> { ...
         Ã¢â€¢Âµ         ~~~~~~~~~~~~~~
Ã¢â€“Â² [WARNING] Duplicate member "deleteEmployee" in class body [duplicate-class-member]
    fmb-onprem/storage/fmb-storage.ts:510:8:
      510 Ã¢â€â€š   async deleteEmployee(id: string): Promise<void> {
          Ã¢â€¢Âµ         ~~~~~~~~~~~~~~
  The original member "deleteEmployee" is here:
    fmb-onprem/storage/fmb-storage.ts:53:8:
      53 Ã¢â€â€š   async deleteEmployee(id: string): Promise<void> {}
         Ã¢â€¢Âµ         ~~~~~~~~~~~~~~
6 of 10 warnings shown (disable the message limit with --log-limit=0)
  dist\index.js  145.4kb
Done in 28ms
ğŸ“‹ Copying FMB configuration files...
node_modules/tedious/lib/connection.d.ts(755,29): error TS2304: Cannot find name 'AggregateError'.
node_modules/tedious/lib/errors.d.ts(4,59): error TS2304: Cannot find name 'ErrorOptions'.
node_modules/tedious/lib/errors.d.ts(14,59): error TS2304: Cannot find name 'ErrorOptions'.
fmb-onprem/config/fmb-database.ts(111,10): error TS2352: Conversion of type 'FmbStorage' to type 'IStorage' may be a mistake because neither type sufficiently overlaps with the other. If this was intention
al, convert the expression to 'unknown' first.
  Type 'FmbStorage' is missing the following properties from type 'IStorage': getOrganizationById, updateOrganization, deleteOrganization
fmb-onprem/storage/fmb-storage.ts(44,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(45,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(50,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(51,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(52,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(53,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(55,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(56,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(57,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(58,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(201,9): error TS2416: Property 'getOrganizations' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<Organization[]>' is not assignable to type '() => Promise<Organization[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(220,59): error TS2551: Property 'userId' does not exist on type 'InsertOrganization'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(227,9): error TS2416: Property 'getProjects' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<Project[]>' is not assignable to type '() => Promise<Project[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(261,68): error TS2551: Property 'organizationId' does not exist on type 'InsertProject'. Did you mean 'organization_id'?
fmb-onprem/storage/fmb-storage.ts(262,66): error TS2551: Property 'departmentId' does not exist on type 'InsertProject'. Did you mean 'department_id'?
fmb-onprem/storage/fmb-storage.ts(263,63): error TS2551: Property 'managerId' does not exist on type 'InsertProject'. Did you mean 'manager_id'?
fmb-onprem/storage/fmb-storage.ts(264,60): error TS2551: Property 'userId' does not exist on type 'InsertProject'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(265,54): error TS2551: Property 'startDate' does not exist on type 'InsertProject'. Did you mean 'start_date'?
fmb-onprem/storage/fmb-storage.ts(266,52): error TS2551: Property 'endDate' does not exist on type 'InsertProject'. Did you mean 'end_date'?
fmb-onprem/storage/fmb-storage.ts(268,66): error TS2551: Property 'projectNumber' does not exist on type 'InsertProject'. Did you mean 'project_number'?
fmb-onprem/storage/fmb-storage.ts(269,60): error TS2551: Property 'isEnterpriseWide' does not exist on type 'InsertProject'. Did you mean 'is_enterprise_wide'?
fmb-onprem/storage/fmb-storage.ts(270,54): error TS2551: Property 'isTemplate' does not exist on type 'InsertProject'. Did you mean 'is_template'?
fmb-onprem/storage/fmb-storage.ts(271,61): error TS2551: Property 'allowTimeTracking' does not exist on type 'InsertProject'. Did you mean 'allow_time_tracking'?
fmb-onprem/storage/fmb-storage.ts(272,64): error TS2551: Property 'requireTaskSelection' does not exist on type 'InsertProject'. Did you mean 'require_task_selection'?
fmb-onprem/storage/fmb-storage.ts(273,64): error TS2551: Property 'enableBudgetTracking' does not exist on type 'InsertProject'. Did you mean 'enable_budget_tracking'?
fmb-onprem/storage/fmb-storage.ts(274,57): error TS2551: Property 'enableBilling' does not exist on type 'InsertProject'. Did you mean 'enable_billing'?
fmb-onprem/storage/fmb-storage.ts(333,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(343,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(357,24): error TS2551: Property 'projectId' does not exist on type 'InsertTask'. Did you mean 'project_id'?
fmb-onprem/storage/fmb-storage.ts(358,77): error TS2551: Property 'assignedTo' does not exist on type 'InsertTask'. Did you mean 'assigned_to'?
fmb-onprem/storage/fmb-storage.ts(359,16): error TS2551: Property 'createdBy' does not exist on type 'InsertTask'. Did you mean 'created_by'?
fmb-onprem/storage/fmb-storage.ts(359,36): error TS2551: Property 'dueDate' does not exist on type 'InsertTask'. Did you mean 'due_date'?
fmb-onprem/storage/fmb-storage.ts(359,54): error TS2551: Property 'estimatedHours' does not exist on type 'InsertTask'. Did you mean 'estimated_hours'?
fmb-onprem/storage/fmb-storage.ts(367,9): error TS2416: Property 'getTimeEntries' in type 'FmbStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(userId: string) => Promise<TimeEntry[]>' is not assignable to type '() => Promise<TimeEntry[]>'.
    Target signature provides too few arguments. Expected 1 or more, but got 0.
fmb-onprem/storage/fmb-storage.ts(405,30): error TS2551: Property 'userId' does not exist on type 'InsertTimeEntry'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(405,52): error TS2551: Property 'projectId' does not exist on type 'InsertTimeEntry'. Did you mean 'project_id'?
fmb-onprem/storage/fmb-storage.ts(405,77): error TS2551: Property 'taskId' does not exist on type 'InsertTimeEntry'. Did you mean 'task_id'?
fmb-onprem/storage/fmb-storage.ts(407,41): error TS2551: Property 'startTime' does not exist on type 'InsertTimeEntry'. Did you mean 'start_time'?
fmb-onprem/storage/fmb-storage.ts(407,66): error TS2551: Property 'endTime' does not exist on type 'InsertTimeEntry'. Did you mean 'end_time'?
fmb-onprem/storage/fmb-storage.ts(409,21): error TS2551: Property 'isBillable' does not exist on type 'InsertTimeEntry'. Did you mean 'is_billable'?
fmb-onprem/storage/fmb-storage.ts(409,56): error TS2551: Property 'isApproved' does not exist on type 'InsertTimeEntry'. Did you mean 'is_approved'?
fmb-onprem/storage/fmb-storage.ts(410,21): error TS2551: Property 'isManualEntry' does not exist on type 'InsertTimeEntry'. Did you mean 'is_manual_entry'?
fmb-onprem/storage/fmb-storage.ts(410,60): error TS2551: Property 'isTimerEntry' does not exist on type 'InsertTimeEntry'. Did you mean 'is_timer_entry'?
fmb-onprem/storage/fmb-storage.ts(411,21): error TS2551: Property 'isTemplate' does not exist on type 'InsertTimeEntry'. Did you mean 'is_template'?
fmb-onprem/storage/fmb-storage.ts(458,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(463,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(474,27): error TS2551: Property 'employeeId' does not exist on type 'InsertEmployee'. Did you mean 'employee_id'?
fmb-onprem/storage/fmb-storage.ts(474,52): error TS2551: Property 'firstName' does not exist on type 'InsertEmployee'. Did you mean 'first_name'?
fmb-onprem/storage/fmb-storage.ts(475,20): error TS2551: Property 'lastName' does not exist on type 'InsertEmployee'. Did you mean 'last_name'?
fmb-onprem/storage/fmb-storage.ts(475,68): error TS2551: Property 'userId' does not exist on type 'InsertEmployee'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(482,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(510,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(522,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(532,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(543,39): error TS2551: Property 'organizationId' does not exist on type 'InsertDepartment'. Did you mean 'organization_id'?
fmb-onprem/storage/fmb-storage.ts(543,64): error TS2551: Property 'managerId' does not exist on type 'InsertDepartment'. Did you mean 'manager_id'?
fmb-onprem/storage/fmb-storage.ts(544,38): error TS2551: Property 'userId' does not exist on type 'InsertDepartment'. Did you mean 'user_id'?
fmb-onprem/storage/fmb-storage.ts(551,9): error TS2393: Duplicate function implementation.
fmb-onprem/storage/fmb-storage.ts(579,9): error TS2393: Duplicate function implementation.
node_modules/tedious/lib/connection.d.ts(755,29): error TS2304: Cannot find name 'AggregateError'.
node_modules/tedious/lib/errors.d.ts(4,59): error TS2304: Cannot find name 'ErrorOptions'.
node_modules/tedious/lib/errors.d.ts(14,59): error TS2304: Cannot find name 'ErrorOptions'.
server/storage.ts(317,17): error TS2339: Property 'default' does not exist on type 'typeof import("C:/fmb-timetracker/server/db")'.
âœ… Application built successfully
Installing production dependencies...
node.exe : npm warn config only Use `--omit=dev` to omit dev dependencies from the install.
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...om the install.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn cleanup Failed to remove some directories [
npm warn cleanup   [
npm warn cleanup     'C:\\fmb-timetracker\\node_modules\\@pm2\\js-api',
npm warn cleanup     [Error: EPERM: operation not permitted, rmdir 'C:\fmb-timetracker\node_modules\@pm2\js-api\node_modules\eventemitter2'] {
npm warn cleanup       errno: -4048,
npm warn cleanup       code: 'EPERM',
npm warn cleanup       syscall: 'rmdir',
npm warn cleanup       path: 'C:\\fmb-timetracker\\node_modules\\@pm2\\js-api\\node_modules\\eventemitter2'
npm warn cleanup     }
npm warn cleanup   ]
npm warn cleanup ]

up to date, audited 581 packages in 6s

83 packages are looking for funding
  run `npm fund` for details

7 vulnerabilities (1 moderate, 5 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
âœ… Production dependencies installed
ğŸ“¦ Keeping all dependencies for Vite compatibility...
âœ… Dependencies preserved for production build
ğŸ” Running configuration health check...
â˜ï¸ Replit deployment detected - skipping FMB on-prem validation
ğŸ“‹ Loading environment variables from .env file...
âœ… Basic environment validation passed
âœ… Configuration validation completed
â–¶ï¸ Starting application...
ğŸ›‘ Stopping any existing processes...
[PM2] Applying action deleteProcessId on app [fmb-timetracker](ids: [ 0 ])
[PM2] [fmb-timetracker](0) Ã¢Å“â€œ
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name      Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
ğŸš€ Starting application with PM2...
pm2 launched in no-daemon mode (you can add DEBUG="*" env variable to get more messages)
[PM2][WARN] Applications fmb-timetracker not running, starting...
[PM2][WARN] Environment [production] is not defined in process file
[PM2] App [fmb-timetracker] launched (1 instances)
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name               Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€Å“Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¤
Ã¢â€â€š 0  Ã¢â€â€š fmb-timetracker    Ã¢â€â€š default     Ã¢â€â€š 1.0.0   Ã¢â€â€š cluster Ã¢â€â€š 4440     Ã¢â€â€š 0      Ã¢â€â€š 0    Ã¢â€â€š waiting Ã¢â‚¬Â¦ Ã¢â€â€š 0%       Ã¢â€â€š 0b       Ã¢â€â€š ADM91381 Ã¢â€â€š disabled Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
[--no-daemon] Continue to stream logs
[--no-daemon] Exit on target PM2 exit pid=13964
15:57:24 PM2      | App [fmb-timetracker:0] starting in -cluster mode-
15:57:24 PM2      | App [fmb-timetracker:0] online
15:57:24 PM2      | App name:fmb-timetracker id:0 disconnected
15:57:24 PM2      | App [fmb-timetracker:0] exited with code [1] via signal [SIGINT]
15:57:29 PM2      | App [fmb-timetracker:0] starting in -cluster mode-
15:57:29 PM2      | App [fmb-timetracker:0] online
15:57:29 PM2      | App name:fmb-timetracker id:0 disconnected
15:57:29 PM2      | App [fmb-timetracker:0] exited with code [1] via signal [SIGINT]
15:57:34 PM2      | App [fmb-timetracker:0] starting in -cluster mode-
15:57:34 PM2      | App [fmb-timetracker:0] online
15:57:34 PM2      | App name:fmb-timetracker id:0 disconnected
15:57:34 PM2      | App [fmb-timetracker:0] exited with code [1] via signal [SIGINT]
