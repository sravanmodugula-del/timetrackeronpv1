
# FMB TimeTracker Clean Deployment Script
# Cleans previous builds and deploys latest code

param(
    [string]$InstallPath = "C:\fmb-timetracker"
)

Write-Host "ğŸ§¹ FMB TimeTracker Clean Deployment" -ForegroundColor Green
Write-Host "====================================" -ForegroundColor Green

# Check admin privileges
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "âŒ Run as Administrator" -ForegroundColor Red
    exit 1
}

# Set working directory
Set-Location $InstallPath

# Stop existing application
Write-Host "â¹ï¸ Stopping application..." -ForegroundColor Yellow
npx pm2 delete fmb-timetracker 2>$null
Start-Sleep -Seconds 3

# Clean previous builds
Write-Host "ğŸ§¹ Cleaning previous builds..." -ForegroundColor Yellow
if (Test-Path "dist") {
    Remove-Item -Path "dist" -Recurse -Force
    Write-Host "   âœ… Removed dist folder" -ForegroundColor Green
}

if (Test-Path "node_modules") {
    Remove-Item -Path "node_modules" -Recurse -Force
    Write-Host "   âœ… Removed node_modules folder" -ForegroundColor Green
}

# Clean npm cache
Write-Host "ğŸ§¹ Cleaning npm cache..." -ForegroundColor Yellow
npm cache clean --force

# Create logs directory if it doesn't exist
if (-not (Test-Path "logs")) {
    New-Item -ItemType Directory -Path "logs" -Force | Out-Null
    Write-Host "   âœ… Created logs directory" -ForegroundColor Green
}

# Check environment file
Write-Host "ğŸ” Checking environment configuration..." -ForegroundColor Yellow
if (-not (Test-Path ".env")) {
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "   âœ… Environment file copied" -ForegroundColor Green
    } else {
        Write-Host "   âŒ No .env file found" -ForegroundColor Red
        exit 1
    }
} else {
    Write-Host "   âœ… Environment file exists" -ForegroundColor Green
}

# Fresh install of dependencies
Write-Host "ğŸ“¦ Installing fresh dependencies..." -ForegroundColor Yellow
npm install --legacy-peer-deps

if ($LASTEXITCODE -ne 0) {
    Write-Host "âŒ Dependency installation failed" -ForegroundColor Red
    exit 1
}

Write-Host "   âœ… Dependencies installed" -ForegroundColor Green

# Set production environment variables
$env:NODE_ENV = "production"
$env:FMB_DEPLOYMENT = "onprem"

# Build application
Write-Host "ğŸ”¨ Building application..." -ForegroundColor Yellow
npm run build

if ($LASTEXITCODE -ne 0) {
    Write-Host "âŒ Build failed" -ForegroundColor Red
    exit 1
}

# Verify build output
if (-not (Test-Path "dist/index.js")) {
    Write-Host "âŒ Build output missing - dist/index.js not found" -ForegroundColor Red
    exit 1
}

if (-not (Test-Path "dist/public")) {
    Write-Host "âŒ Build output missing - dist/public not found" -ForegroundColor Red
    exit 1
}

Write-Host "   âœ… Build completed successfully" -ForegroundColor Green

# Start application with PM2
Write-Host "â–¶ï¸ Starting application..." -ForegroundColor Yellow
npx pm2 start ecosystem.config.cjs

if ($LASTEXITCODE -ne 0) {
    Write-Host "âŒ Failed to start application with PM2" -ForegroundColor Red
    exit 1
}

# Wait for application to start
Write-Host "â³ Waiting for application to start..." -ForegroundColor Yellow
Start-Sleep -Seconds 15

# Check PM2 status
$status = npx pm2 jlist | ConvertFrom-Json
$app = $status | Where-Object { $_.name -eq "fmb-timetracker" }

if ($app -and $app.pm2_env.status -eq "online") {
    Write-Host "âœ… Application started successfully!" -ForegroundColor Green
    Write-Host "ğŸŒ Application URL: http://localhost:3000" -ForegroundColor Green
    
    # Health check
    Write-Host "ğŸ¥ Performing health check..." -ForegroundColor Yellow
    Start-Sleep -Seconds 5
    
    try {
        $response = Invoke-WebRequest -Uri "http://localhost:3000/api/health" -UseBasicParsing -TimeoutSec 15
        if ($response.StatusCode -eq 200) {
            Write-Host "   âœ… Health check passed" -ForegroundColor Green
            $healthData = $response.Content | ConvertFrom-Json
            Write-Host "   ğŸ“Š Status: $($healthData.status)" -ForegroundColor Cyan
        }
    } catch {
        Write-Host "   âš ï¸ Health check failed - $($_.Exception.Message)" -ForegroundColor Yellow
        Write-Host "   ğŸ“‹ Check logs: npx pm2 logs fmb-timetracker" -ForegroundColor Cyan
    }
    
    # Save PM2 configuration
    npx pm2 save
    
    Write-Host ""
    Write-Host "ğŸ‰ FMB TimeTracker deployment completed successfully!" -ForegroundColor Green
    Write-Host ""
    Write-Host "ğŸ“‹ Management Commands:" -ForegroundColor Cyan
    Write-Host "   â€¢ Status: npx pm2 status" -ForegroundColor White
    Write-Host "   â€¢ Logs: npx pm2 logs fmb-timetracker" -ForegroundColor White
    Write-Host "   â€¢ Restart: npx pm2 restart fmb-timetracker" -ForegroundColor White
    Write-Host "   â€¢ Stop: npx pm2 stop fmb-timetracker" -ForegroundColor White
    Write-Host ""
    Write-Host "ğŸ”— Access Points:" -ForegroundColor Cyan
    Write-Host "   â€¢ Internal: http://localhost:3000" -ForegroundColor White
    Write-Host "   â€¢ External: https://timetracker.fmb.com (via IIS)" -ForegroundColor White
    
} else {
    Write-Host "âŒ Application failed to start" -ForegroundColor Red
    Write-Host "ğŸ“‹ Checking logs..." -ForegroundColor Yellow
    npx pm2 logs fmb-timetracker --lines 20
    exit 1
}

Write-Host ""
Write-Host "âœ¨ Clean deployment completed!" -ForegroundColor Green

2025-09-01T12:49:56: 2025-09-01T19:49:56.184Z ğŸŸ¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-09-01T12:49:56: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit
2025-09-01T12:49:56: [dotenv@17.2.1] injecting env (23) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
2025-09-01T12:49:56: ğŸ¢ FMB On-Premises configuration loaded
2025-09-01T12:49:56: ğŸ” [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-09-01T12:49:56: âœ… [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-09-01T12:49:56: ğŸ” [FMB-CONFIG] Certificate length: 1004 characters
2025-09-01T12:49:56: 2025-09-01T19:49:56.191Z ğŸŸ¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-09-01T12:49:56: 2025-09-01T19:49:56.191Z ğŸŸ¢ [CONFIG] FMB session secret validated successfully
2025-09-01T12:49:56: ğŸ”— Connecting to FMB MS SQL database...
2025-09-01T12:49:56: âœ… FMB Database connection established successfully
2025-09-01T12:49:56: 2025-09-01T19:49:56.290Z ğŸŸ¢ [DATABASE] FMB Database initialization completed successfully
2025-09-01T12:49:56: 2025-09-01T19:49:56.293Z ğŸŸ¢ [SESSION] FMB Enterprise Session configured for production mode
2025-09-01T12:49:56: 2025-09-01T19:49:56.294Z ğŸŸ¢ [SESSION] Initializing MS SQL session store for production
2025-09-01T12:49:56: 2025-09-01T19:49:56.295Z ğŸŸ¢ [SESSION] Custom MS SQL session store initialized successfully
2025-09-01T12:49:56: 2025-09-01T19:49:56.295Z ğŸŸ¢ [SESSION] Session store initialization completed
2025-09-01T12:49:56: 2025-09-01T19:49:56.295Z ğŸŸ¢ [SERVER] FMB Session middleware configured successfully
2025-09-01T12:49:56: 2025-09-01T19:49:56.298Z ğŸŸ¢ [SECURITY] Enterprise session security middleware activated
2025-09-01T12:49:56: ğŸš€ Setting up FMB SAML Authentication for On-Premises environment...
2025-09-01T12:49:56: 2025-09-01T19:49:56.301Z ğŸ”µ [FMB-SAML] Initializing FMB SAML Authentication
2025-09-01T12:49:56: ğŸ”§ [FMB-DATABASE] Creating new FMB storage instance...
2025-09-01T12:49:56: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: âš™ï¸  suppress all logs with { quiet: true }
2025-09-01T12:49:56: [dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ“¡ observe env with Radar: https://dotenvx.com/radar
2025-09-01T12:49:56: ğŸ¢ FMB On-Premises configuration loaded
2025-09-01T12:49:56: ğŸ” [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-09-01T12:49:56: âœ… [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-09-01T12:49:56: ğŸ” [FMB-CONFIG] Certificate length: 1004 characters
2025-09-01T12:49:56: ğŸ”— [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-09-01T12:49:56: 2025-09-01T19:49:56.304Z ğŸŸ¢ [FMB-SAML] SAML Certificate validation {
2025-09-01T12:49:56:   "certLength": 1004,
2025-09-01T12:49:56:   "hasBeginMarker": true,
2025-09-01T12:49:56:   "hasEndMarker": true
2025-09-01T12:49:56: }
2025-09-01T12:49:56: 2025-09-01T19:49:56.305Z ğŸ”µ [FMB-SAML] FMB SAML Authentication setup completed
2025-09-01T12:49:56: ğŸ›¡ï¸ [SESSION-MGMT] Enterprise session management routes registered
2025-09-01T12:49:56: ğŸ›¡ï¸ [SESSION-MGMT] Enterprise session management routes registered
2025-09-01T12:49:56: 2025-09-01T19:49:56.309Z ğŸŸ¢ [SERVER] FMB TimeTracker running on http://0.0.0.0:3000
2025-09-01T12:49:56: 2025-09-01T19:49:56.309Z ğŸŸ¢ [SERVER] Environment: fmb-onprem
2025-09-01T12:49:56: 2025-09-01T19:49:56.309Z ğŸŸ¢ [FMB-ONPREM] On-premises deployment active - SAML authentication enabled
2025-09-01T12:49:56: 2025-09-01T19:49:56.372Z ğŸ—„ï¸ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-09-01T12:49:56: ğŸŸ¢ [FMB-SESSION] Session table structure verified
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: 2025-09-01T19:51:42.748Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302662-q98b5b', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.748Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.749Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/projects {
2025-09-01T12:51:42:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a",
2025-09-01T12:51:42:   "isAuthenticated": true
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.750Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: 2025-09-01T19:51:42.770Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302686-2912na', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.770Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.771Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:42:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a",
2025-09-01T12:51:42:   "isAuthenticated": true
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.771Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:42: 2025-09-01T19:51:42.774Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302714-w4omma', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.774Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.775Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-01T12:51:42:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a",
2025-09-01T12:51:42:   "isAuthenticated": true
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.775Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.775Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-01T12:51:42: 2025-09-01T19:51:42.800Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302750-roe5lm', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.806Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302771-6e3su9', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.808Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756302720-lfpzxk', recordCount: 1 }
2025-09-01T12:51:42: 2025-09-01T19:51:42.808Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.808Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/tasks {
2025-09-01T12:51:42:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a",
2025-09-01T12:51:42:   "isAuthenticated": true
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.808Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:42:   "userId": "user-1756655138413",
2025-09-01T12:51:42:   "sessionId": "54e9d9d737ff11e973591533ff8b467294f1aef6118b92dd42c9ec02f92bb85a"
2025-09-01T12:51:42: }
2025-09-01T12:51:42: 2025-09-01T19:51:42.810Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-01T12:51:50: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:50: 2025-09-01T19:51:50.621Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756310594-qwng7a', recordCount: 1 }
2025-09-01T12:51:50: 2025-09-01T19:51:50.621Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:50:   "userId": "user-1756655138413",
2025-09-01T12:51:50:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:50: }
2025-09-01T12:51:50: 2025-09-01T19:51:50.622Z ğŸ”µ [FMB-SAML] SAML ACS callback received - IdP-initiated flow {
2025-09-01T12:51:50:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:50:   "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
2025-09-01T12:51:50:   "timestamp": "2025-09-01T19:51:50.622Z",
2025-09-01T12:51:50:   "hasBody": true,
2025-09-01T12:51:50:   "bodyKeys": [
2025-09-01T12:51:50:     "SAMLResponse"
2025-09-01T12:51:50:   ],
2025-09-01T12:51:50:   "headers": {
2025-09-01T12:51:50:     "content-type": "application/x-www-form-urlencoded",
2025-09-01T12:51:50:     "content-length": "8093"
2025-09-01T12:51:50:   }
2025-09-01T12:51:50: }
2025-09-01T12:51:50: 2025-09-01T19:51:50.709Z ğŸ”µ [FMB-SAML] SAML profile received {
2025-09-01T12:51:50:   "nameID": "Sravan.Modugula@fmb.com",
2025-09-01T12:51:50:   "email": "Sravan.Modugula@fmb.com",
2025-09-01T12:51:50:   "firstName": "Sravan",
2025-09-01T12:51:50:   "lastName": "Modugula"
2025-09-01T12:51:50: }
2025-09-01T12:51:50: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:50: 2025-09-01T19:51:50.739Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756310710-olj2gt', recordCount: 1 }
2025-09-01T12:51:50: ğŸ”„ [SQL] 
2025-09-01T12:51:50:  operation on users
2025-09-01T12:51:50: ğŸ—„ï¸ [SQL] Executing with 7 parameters
2025-09-01T12:51:50: âœ… [SQL] Operation completed: 1 rows affected
2025-09-01T12:51:50: 2025-09-01T19:51:50.781Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756310739-rf1vyu', recordCount: 0 }
2025-09-01T12:51:50: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:50: 2025-09-01T19:51:50.809Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756310781-rteewo', recordCount: 1 }
2025-09-01T12:51:50: 2025-09-01T19:51:50.809Z ğŸ”µ [FMB-SAML] User upserted in database {
2025-09-01T12:51:50:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:50: }
2025-09-01T12:51:50: 2025-09-01T19:51:50.809Z ğŸ”µ [FMB-SAML] User authenticated and stored {
2025-09-01T12:51:50:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:50: }
2025-09-01T12:51:50: ğŸ—‘ï¸ [FMB-SESSION] Session destroyed successfully
2025-09-01T12:51:50: 2025-09-01T19:51:50.884Z ğŸŸ¢ [FMB-SAML] Serializing user for session {
2025-09-01T12:51:50:   "userId": "user-1756655138413",
2025-09-01T12:51:50:   "timestamp": "2025-09-01T19:51:50.884Z",
2025-09-01T12:51:50:   "source": "saml"
2025-09-01T12:51:50: }
2025-09-01T12:51:50: ğŸ”µ [FMB-SAML] User session established and saved: Sravan.Modugula@fmb.com
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.109Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311080-32l9bc', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.109Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.243Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311216-xcs79e', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.243Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.247Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311219-3xnuin', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.247Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.250Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311220-v2n4l1', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.250Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.250Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311221-yi9jw6', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.251Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.272Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311241-ryhasd', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.272Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.278Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311246-h02iql', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.278Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.279Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311249-ozb9d2', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.279Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.738Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311709-pwqu7t', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.738Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.739Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.739Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.754Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311723-89k9j2', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.754Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.769Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311739-saeaa1', recordCount: 1 }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.937Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311909-80hi9w', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.938Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.938Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.938Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.939Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311911-anvg9l', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.939Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.940Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.940Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.940Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-01T12:51:51: 2025-09-01T19:51:51.940Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311913-72t2b6', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.941Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.941Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/stats {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.941Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 3 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:51: 2025-09-01T19:51:51.943Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311914-05k882', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.944Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.944Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/project-breakdown {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.944Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.945Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311915-bfye1k', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.945Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.945Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/dashboard/recent-activity {
2025-09-01T12:51:51:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:51:   "isAuthenticated": true
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.945Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:51:   "userId": "user-1756655138413",
2025-09-01T12:51:51:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:51: }
2025-09-01T12:51:51: 2025-09-01T19:51:51.964Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311938-2p1ybi', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.967Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.970Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311941-zi7bqg', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.970Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311941-ar9dlh', recordCount: 1 }
2025-09-01T12:51:51: 2025-09-01T19:51:51.971Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756311941-0m18qz', recordCount: 1 }
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: 2025-09-01T19:51:53.249Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313223-lyci7c', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.250Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.250Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:53:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:53:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:53:   "isAuthenticated": true
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.250Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: 2025-09-01T19:51:53.252Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313226-e8vage', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.252Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.257Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313228-irr2nv', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.258Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.258Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-01T12:51:53:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:53:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:53:   "isAuthenticated": true
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.258Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:53: 2025-09-01T19:51:53.259Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313229-lu63v2', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.259Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.262Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313230-59w4tg', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.262Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:53:   "userId": "user-1756655138413",
2025-09-01T12:51:53:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:53: }
2025-09-01T12:51:53: 2025-09-01T19:51:53.278Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313250-0k4lkh', recordCount: 1 }
2025-09-01T12:51:53: 2025-09-01T19:51:53.287Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756313258-rs1wdt', recordCount: 1 }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.339Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316310-8v7pez', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.339Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.339Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for POST /api/users/change-role {
2025-09-01T12:51:56:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:56:   "isAuthenticated": true
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.340Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: ğŸ—„ï¸ [FMB-STORAGE] UPDATE_USER_ROLE: { userId: 'user-1756655138413', role: 'admin' }
2025-09-01T12:51:56: âœ… [FMB-STORAGE] UPDATE_USER_ROLE: Role updated successfully
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.544Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316519-f4prk8', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.544Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.545Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-01T12:51:56:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:56:   "isAuthenticated": true
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.545Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.546Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316520-40g4hl', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.546Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.546Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:56:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:56:   "isAuthenticated": true
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.547Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.548Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316521-qmdh8o', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.548Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.571Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316545-6etxit', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.573Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316547-h5wplj', recordCount: 1 }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.686Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316660-25cs0f', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.686Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.687Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316661-vo0jz0', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.688Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.689Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316663-fnuvg4', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.690Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.690Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316662-qakti8', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.690Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.692Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316665-gx1w06', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.693Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.693Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316666-zterr0', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.694Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.696Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316666-1ghqn1', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.696Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:56: 2025-09-01T19:51:56.988Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316962-6ovqrm', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.988Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.989Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316963-6yomem', recordCount: 1 }
2025-09-01T12:51:56: 2025-09-01T19:51:56.989Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.990Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:56:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:56:   "isAuthenticated": true
2025-09-01T12:51:56: }
2025-09-01T12:51:56: 2025-09-01T19:51:56.990Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:56:   "userId": "user-1756655138413",
2025-09-01T12:51:56:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:56: }
2025-09-01T12:51:56: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: 2025-09-01T19:51:57.015Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756316990-ytppkl', recordCount: 1 }
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: 2025-09-01T19:51:57.193Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317166-dw1af3', recordCount: 1 }
2025-09-01T12:51:57: 2025-09-01T19:51:57.193Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.193Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:57:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:57:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:57:   "isAuthenticated": true
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.193Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: 2025-09-01T19:51:57.195Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317168-2v3m98', recordCount: 1 }
2025-09-01T12:51:57: 2025-09-01T19:51:57.195Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.195Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-09-01T12:51:57:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:57:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:57:   "isAuthenticated": true
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.195Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:57: 2025-09-01T19:51:57.197Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317169-dniqac', recordCount: 1 }
2025-09-01T12:51:57: 2025-09-01T19:51:57.197Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.198Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317170-dt42v2', recordCount: 1 }
2025-09-01T12:51:57: 2025-09-01T19:51:57.198Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:57:   "userId": "user-1756655138413",
2025-09-01T12:51:57:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:57: }
2025-09-01T12:51:57: 2025-09-01T19:51:57.219Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317193-ajyvgt', recordCount: 1 }
2025-09-01T12:51:57: 2025-09-01T19:51:57.221Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756317195-usnjjh', recordCount: 1 }
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: 2025-09-01T19:51:58.556Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318529-usgx2i', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.556Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.558Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318531-efamvh', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.558Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.558Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:51:58:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:58:   "isAuthenticated": true
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.558Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: 2025-09-01T19:51:58.559Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318532-akb0ap', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.559Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.560Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/projects {
2025-09-01T12:51:58:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:58:   "isAuthenticated": true
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.560Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:51:58: 2025-09-01T19:51:58.562Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318533-l91e0v', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.562Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.562Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-01T12:51:58:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:58:   "isAuthenticated": true
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.563Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.563Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-01T12:51:58: 2025-09-01T19:51:58.564Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318534-7qy2bs', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.564Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.564Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/tasks {
2025-09-01T12:51:58:   "ip": "192.168.209.53:61749",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:51:58:   "isAuthenticated": true
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.564Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:51:58:   "userId": "user-1756655138413",
2025-09-01T12:51:58:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:51:58: }
2025-09-01T12:51:58: 2025-09-01T19:51:58.586Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318558-d3gdxq', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.588Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756318560-vk0euj', recordCount: 1 }
2025-09-01T12:51:58: 2025-09-01T19:51:58.591Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-01T12:52:00: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:00: 2025-09-01T19:52:00.801Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756320775-euex9i', recordCount: 1 }
2025-09-01T12:52:00: 2025-09-01T19:52:00.802Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:00:   "userId": "user-1756655138413",
2025-09-01T12:52:00:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:00: }
2025-09-01T12:52:00: 2025-09-01T19:52:00.802Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/tasks {
2025-09-01T12:52:00:   "ip": "192.168.209.53:61749",
2025-09-01T12:52:00:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:52:00:   "isAuthenticated": true
2025-09-01T12:52:00: }
2025-09-01T12:52:00: 2025-09-01T19:52:00.802Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:52:00:   "userId": "user-1756655138413",
2025-09-01T12:52:00:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:52:00: }
2025-09-01T12:52:05: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:05: 2025-09-01T19:52:05.872Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756325845-81aaei', recordCount: 1 }
2025-09-01T12:52:05: 2025-09-01T19:52:05.873Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:05:   "userId": "user-1756655138413",
2025-09-01T12:52:05:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:05: }
2025-09-01T12:52:05: 2025-09-01T19:52:05.873Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for POST /api/projects/proj-1756706116910-supqu4vm7/tasks {
2025-09-01T12:52:05:   "ip": "192.168.209.53:61749",
2025-09-01T12:52:05:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:52:05:   "isAuthenticated": true
2025-09-01T12:52:05: }
2025-09-01T12:52:05: 2025-09-01T19:52:05.873Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:52:05:   "userId": "user-1756655138413",
2025-09-01T12:52:05:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:52:05: }
2025-09-01T12:52:05: ğŸ“ Project Task Creation Request: {
2025-09-01T12:52:05:   projectId: 'proj-1756706116910-supqu4vm7',
2025-09-01T12:52:05:   name: 'LL',
2025-09-01T12:52:05:   description: '',
2025-09-01T12:52:05:   status: 'pending',
2025-09-01T12:52:05:   userId: 'user-1756655138413'
2025-09-01T12:52:05: }
2025-09-01T12:52:05: ğŸ“ [FMB-STORAGE] Creating task with data: {
2025-09-01T12:52:05:   taskId: 'task-1756756325902-h68eekjzf',
2025-09-01T12:52:05:   taskData: {
2025-09-01T12:52:05:     name: 'LL',
2025-09-01T12:52:05:     title: 'LL',
2025-09-01T12:52:05:     description: '',
2025-09-01T12:52:05:     status: 'pending',
2025-09-01T12:52:05:     projectId: 'proj-1756706116910-supqu4vm7'
2025-09-01T12:52:05:   },
2025-09-01T12:52:05:   userId: 'user-1756655138413',
2025-09-01T12:52:05:   project_id: 'proj-1756706116910-supqu4vm7'
2025-09-01T12:52:05: }
2025-09-01T12:52:05: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:05: 2025-09-01T19:52:05.930Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756325902-xh49w3', recordCount: 1 }
2025-09-01T12:52:05: ğŸ“ [FMB-STORAGE] Task SQL parameters bound: {
2025-09-01T12:52:05:   id: 'task-1756756325902-h68eekjzf',
2025-09-01T12:52:05:   project_id: 'proj-1756706116910-supqu4vm7',
2025-09-01T12:52:05:   title: 'LL',
2025-09-01T12:52:05:   status: 'pending'
2025-09-01T12:52:05: }
2025-09-01T12:52:06: âœ… [FMB-STORAGE] Task created successfully: task-1756756325902-h68eekjzf - "LL"
2025-09-01T12:52:06: âŒ Project task creation error: {
2025-09-01T12:52:06:   message: "Cannot read properties of null (reading 'id')",
2025-09-01T12:52:06:   code: undefined,
2025-09-01T12:52:06:   stack: [
2025-09-01T12:52:06:     "TypeError: Cannot read properties of null (reading 'id')",
2025-09-01T12:52:06:     '    at file:///C:/fmb-timetracker/dist/index.js:4913:69',
2025-09-01T12:52:06:     '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)'
2025-09-01T12:52:06:   ]
2025-09-01T12:52:06: }
2025-09-01T12:52:06: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:06: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:06: 2025-09-01T19:52:06.155Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756326127-5gk2pf', recordCount: 1 }
2025-09-01T12:52:06: 2025-09-01T19:52:06.156Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:06:   "userId": "user-1756655138413",
2025-09-01T12:52:06:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:06: }
2025-09-01T12:52:06: 2025-09-01T19:52:06.079Z ğŸ”´ [FRONTEND-API] Request 9yrczmkky exception {
2025-09-01T12:52:06:   data: {
2025-09-01T12:52:06:     requestId: '9yrczmkky',
2025-09-01T12:52:06:     method: 'POST',
2025-09-01T12:52:06:     url: '/api/projects/proj-1756706116910-supqu4vm7/tasks',
2025-09-01T12:52:06:     error: {
2025-09-01T12:52:06:       name: 'Error',
2025-09-01T12:52:06:       message: 'Failed to create task',
2025-09-01T12:52:06:       stack: 'Error: Failed to create task\n' +
2025-09-01T12:52:06:         '    at ve (https://timetracker.fmb.com/assets/index-DPzgs8Do.js:1:3142)\n' +
2025-09-01T12:52:06:         '    at async Object.mutationFn (https://timetracker.fmb.com/assets/index-DPzgs8Do.js:291:161767)'
2025-09-01T12:52:06:     }
2025-09-01T12:52:06:   },
2025-09-01T12:52:06:   url: 'https://timetracker.fmb.com/tasks',
2025-09-01T12:52:06:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-09-01T12:52:06:   ip: '192.168.209.53:61749',
2025-09-01T12:52:06:   sessionId: 'a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da'
2025-09-01T12:52:06: }
2025-09-01T12:52:06: 2025-09-01T19:52:06.161Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756326125-jff6pg', recordCount: 1 }
2025-09-01T12:52:06: 2025-09-01T19:52:06.161Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:06:   "userId": "user-1756655138413",
2025-09-01T12:52:06:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:06: }
2025-09-01T12:52:06: 2025-09-01T19:52:06.078Z ğŸ”´ [FRONTEND-API] Request 9yrczmkky failed {
2025-09-01T12:52:06:   data: {
2025-09-01T12:52:06:     requestId: '9yrczmkky',
2025-09-01T12:52:06:     method: 'POST',
2025-09-01T12:52:06:     url: '/api/projects/proj-1756706116910-supqu4vm7/tasks',
2025-09-01T12:52:06:     status: 500,
2025-09-01T12:52:06:     error: {
2025-09-01T12:52:06:       message: 'Failed to create task',
2025-09-01T12:52:06:       error: 'Internal server error'
2025-09-01T12:52:06:     },
2025-09-01T12:52:06:     duration: '278ms'
2025-09-01T12:52:06:   },
2025-09-01T12:52:06:   url: 'https://timetracker.fmb.com/tasks',
2025-09-01T12:52:06:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-09-01T12:52:06:   ip: '192.168.209.53:61749',
2025-09-01T12:52:06:   sessionId: 'a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da'
2025-09-01T12:52:06: }
2025-09-01T12:52:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:25: 2025-09-01T19:52:25.084Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756345055-617irp', recordCount: 1 }
2025-09-01T12:52:25: 2025-09-01T19:52:25.084Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.085Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-09-01T12:52:25:   "ip": "192.168.209.53:61749",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:52:25:   "isAuthenticated": true
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.085Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.085Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-09-01T12:52:25: 2025-09-01T19:52:25.086Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756345056-s6u93h', recordCount: 1 }
2025-09-01T12:52:25: 2025-09-01T19:52:25.086Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.087Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/tasks {
2025-09-01T12:52:25:   "ip": "192.168.209.53:61749",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:52:25:   "isAuthenticated": true
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.087Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.087Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756345057-0y6fql', recordCount: 1 }
2025-09-01T12:52:25: 2025-09-01T19:52:25.088Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.088Z ğŸŸ¢ [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-09-01T12:52:25:   "ip": "192.168.209.53:61749",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da",
2025-09-01T12:52:25:   "isAuthenticated": true
2025-09-01T12:52:25: }
2025-09-01T12:52:25: 2025-09-01T19:52:25.088Z ğŸŸ¢ [FMB-SAML] FMB Authentication successful {
2025-09-01T12:52:25:   "userId": "user-1756655138413",
2025-09-01T12:52:25:   "sessionId": "a7e33304b460d55cae572a081c1146adb763f43aeea2adec9a90f7d192d745da"
2025-09-01T12:52:25: }
2025-09-01T12:52:25: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:25: 2025-09-01T19:52:25.114Z ğŸ—„ï¸ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 1 }
2025-09-01T12:52:25: 2025-09-01T19:52:25.118Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756345088-0j5iyh', recordCount: 1 }
2025-09-01T12:52:28: ğŸ—„ï¸ [SQL] Executing with 1 parameters
2025-09-01T12:52:28: 2025-09-01T19:52:28.211Z ğŸ—„ï¸ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756756348180-9tgslk', recordCount: 1 }
2025-09-01T12:52:28: 2025-09-01T19:52:28.211Z ğŸŸ¢ [FMB-SAML] User deserialized successfully {
2025-09-01T12:52:28:   "userId": "user-1756655138413",
2025-09-01T12:52:28:   "email": "Sravan.Modugula@fmb.com"
2025-09-01T12:52:28: }
