2025-08-30T17:49:42: 2025-08-31T00:49:42.654Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:49:42: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
2025-08-30T17:49:42: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:49:42: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:42: 2025-08-31T00:49:42.659Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:49:42: 2025-08-31T00:49:42.660Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:49:42: üîó Connecting to FMB MS SQL database...
2025-08-30T17:49:42: ‚úÖ FMB Database connection established successfully
2025-08-30T17:49:42: 2025-08-31T00:49:42.858Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:49:42: 2025-08-31T00:49:42.863Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:49:42: 2025-08-31T00:49:42.863Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:49:42: 2025-08-31T00:49:42.865Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:49:42: 2025-08-31T00:49:42.865Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:49:42: 2025-08-31T00:49:42.866Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:49:42: 2025-08-31T00:49:42.868Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:49:42: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:49:42: 2025-08-31T00:49:42.872Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:49:42: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:49:42: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
2025-08-30T17:49:42: [dotenv@17.2.1] injecting env (0) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
2025-08-30T17:49:42: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:42: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:49:42: 2025-08-31T00:49:42.875Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:49:42: 2025-08-31T00:49:42.954Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:42: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:42: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:43: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:49:43: 2025-08-31T00:49:43.377Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:49:49: 2025-08-31T00:49:49.992Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:49:49: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
2025-08-30T17:49:49: [dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
2025-08-30T17:49:49: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:49: 2025-08-31T00:49:49.997Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:49:49: 2025-08-31T00:49:49.997Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:49:49: üîó Connecting to FMB MS SQL database...
2025-08-30T17:49:50: ‚úÖ FMB Database connection established successfully
2025-08-30T17:49:50: 2025-08-31T00:49:50.172Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:49:50: 2025-08-31T00:49:50.176Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:49:50: 2025-08-31T00:49:50.176Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:49:50: 2025-08-31T00:49:50.178Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:49:50: 2025-08-31T00:49:50.178Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:49:50: 2025-08-31T00:49:50.178Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:49:50: 2025-08-31T00:49:50.180Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:49:50: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:49:50: 2025-08-31T00:49:50.183Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:49:50: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:49:50: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
2025-08-30T17:49:50: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
2025-08-30T17:49:50: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:50: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:49:50: 2025-08-31T00:49:50.186Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:49:50: 2025-08-31T00:49:50.253Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:50: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:50: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:50: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:49:50: 2025-08-31T00:49:50.687Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:49:57: 2025-08-31T00:49:57.253Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:49:57: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: üì° version env with Radar: https://dotenvx.com/radar
2025-08-30T17:49:57: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
2025-08-30T17:49:57: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:57: 2025-08-31T00:49:57.258Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:49:57: 2025-08-31T00:49:57.259Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:49:57: üîó Connecting to FMB MS SQL database...
2025-08-30T17:49:57: ‚úÖ FMB Database connection established successfully
2025-08-30T17:49:57: 2025-08-31T00:49:57.459Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:49:57: 2025-08-31T00:49:57.462Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:49:57: 2025-08-31T00:49:57.463Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:49:57: 2025-08-31T00:49:57.464Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:49:57: 2025-08-31T00:49:57.464Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:49:57: 2025-08-31T00:49:57.464Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:49:57: 2025-08-31T00:49:57.466Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:49:57: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:49:57: 2025-08-31T00:49:57.469Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:49:57: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:49:57: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
2025-08-30T17:49:57: [dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
2025-08-30T17:49:57: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:49:57: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:49:57: 2025-08-31T00:49:57.471Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:49:57: 2025-08-31T00:49:57.539Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:57: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:57: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:49:57: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:49:57: 2025-08-31T00:49:57.973Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:04: 2025-08-31T00:50:04.691Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:04: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:50:04: [dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
2025-08-30T17:50:04: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:04: 2025-08-31T00:50:04.698Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:04: 2025-08-31T00:50:04.699Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:04: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:04: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:04: 2025-08-31T00:50:04.884Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:04: 2025-08-31T00:50:04.888Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:04: 2025-08-31T00:50:04.889Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:04: 2025-08-31T00:50:04.890Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:04: 2025-08-31T00:50:04.890Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:04: 2025-08-31T00:50:04.891Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:04: 2025-08-31T00:50:04.893Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:04: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:04: 2025-08-31T00:50:04.896Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:04: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:04: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
2025-08-30T17:50:04: [dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
2025-08-30T17:50:04: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:04: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:04: 2025-08-31T00:50:04.899Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:04: 2025-08-31T00:50:04.971Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:04: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:04: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:05: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:05: 2025-08-31T00:50:05.400Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:11: 2025-08-31T00:50:11.956Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:11: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
2025-08-30T17:50:11: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
2025-08-30T17:50:11: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:11: 2025-08-31T00:50:11.962Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:11: 2025-08-31T00:50:11.963Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:11: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:12: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:12: 2025-08-31T00:50:12.153Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:12: 2025-08-31T00:50:12.157Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:12: 2025-08-31T00:50:12.157Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:12: 2025-08-31T00:50:12.159Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:12: 2025-08-31T00:50:12.159Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:12: 2025-08-31T00:50:12.159Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:12: 2025-08-31T00:50:12.162Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:12: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:12: 2025-08-31T00:50:12.165Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:12: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:12: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
2025-08-30T17:50:12: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
2025-08-30T17:50:12: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:12: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:12: 2025-08-31T00:50:12.168Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:12: 2025-08-31T00:50:12.239Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:12: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:12: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:12: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:12: 2025-08-31T00:50:12.670Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:19: 2025-08-31T00:50:19.302Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:19: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
2025-08-30T17:50:19: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:50:19: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:19: 2025-08-31T00:50:19.307Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:19: 2025-08-31T00:50:19.308Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:19: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:19: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:19: 2025-08-31T00:50:19.504Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:19: 2025-08-31T00:50:19.508Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:19: 2025-08-31T00:50:19.509Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:19: 2025-08-31T00:50:19.510Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:19: 2025-08-31T00:50:19.510Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:19: 2025-08-31T00:50:19.510Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:19: 2025-08-31T00:50:19.513Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:19: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:19: 2025-08-31T00:50:19.515Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:19: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:19: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:19: [dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
2025-08-30T17:50:19: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:19: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:19: 2025-08-31T00:50:19.519Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:19: 2025-08-31T00:50:19.593Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:19: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:19: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:19: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:20: 2025-08-31T00:50:20.020Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:26: 2025-08-31T00:50:26.588Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:26: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:50:26: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
2025-08-30T17:50:26: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:26: 2025-08-31T00:50:26.593Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:26: 2025-08-31T00:50:26.593Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:26: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:26: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:26: 2025-08-31T00:50:26.777Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:26: 2025-08-31T00:50:26.781Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:26: 2025-08-31T00:50:26.781Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:26: 2025-08-31T00:50:26.783Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:26: 2025-08-31T00:50:26.783Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:26: 2025-08-31T00:50:26.783Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:26: 2025-08-31T00:50:26.785Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:26: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:26: 2025-08-31T00:50:26.788Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:26: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:26: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
2025-08-30T17:50:26: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
2025-08-30T17:50:26: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:26: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:26: 2025-08-31T00:50:26.791Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:26: 2025-08-31T00:50:26.860Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:26: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:26: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:27: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:27: 2025-08-31T00:50:27.293Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:33: 2025-08-31T00:50:33.834Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:33: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: üì° observe env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:33: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:50:33: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:33: 2025-08-31T00:50:33.839Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:33: 2025-08-31T00:50:33.839Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:33: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:34: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:34: 2025-08-31T00:50:34.038Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:34: 2025-08-31T00:50:34.044Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:34: 2025-08-31T00:50:34.044Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:34: 2025-08-31T00:50:34.046Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:34: 2025-08-31T00:50:34.046Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:34: 2025-08-31T00:50:34.047Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:34: 2025-08-31T00:50:34.050Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:34: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:34: 2025-08-31T00:50:34.053Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:34: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:34: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
2025-08-30T17:50:34: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
2025-08-30T17:50:34: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:34: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:34: 2025-08-31T00:50:34.058Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:34: 2025-08-31T00:50:34.133Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:34: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:34: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:34: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:34: 2025-08-31T00:50:34.558Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:41: 2025-08-31T00:50:41.070Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:41: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: üì° version env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:41: [dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:41: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:41: 2025-08-31T00:50:41.075Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:41: 2025-08-31T00:50:41.075Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:41: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:41: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:41: 2025-08-31T00:50:41.248Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:41: 2025-08-31T00:50:41.252Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:41: 2025-08-31T00:50:41.253Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:41: 2025-08-31T00:50:41.254Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:41: 2025-08-31T00:50:41.254Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:41: 2025-08-31T00:50:41.255Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:41: 2025-08-31T00:50:41.256Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:41: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:41: 2025-08-31T00:50:41.259Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:41: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:41: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
2025-08-30T17:50:41: [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
2025-08-30T17:50:41: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:41: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:41: 2025-08-31T00:50:41.262Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:41: 2025-08-31T00:50:41.335Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:41: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:41: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:41: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:41: 2025-08-31T00:50:41.763Z üî¥ [SERVER] Exiting due to startup failure
2025-08-30T17:50:48: 2025-08-31T00:50:48.315Z üü¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-30T17:50:48: [dotenv@17.2.1] injecting env (2) from fmb-onprem\.env.fmb-onprem -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
2025-08-30T17:50:48: [dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:48: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:48: 2025-08-31T00:50:48.319Z üü¢ [FMB-ONPREM] FMB On-premises environment initialized
2025-08-30T17:50:48: 2025-08-31T00:50:48.319Z üü¢ [CONFIG] FMB session secret validated successfully
2025-08-30T17:50:48: üîó Connecting to FMB MS SQL database...
2025-08-30T17:50:48: ‚úÖ FMB Database connection established successfully
2025-08-30T17:50:48: 2025-08-31T00:50:48.504Z üü¢ [DATABASE] FMB Database initialization completed successfully
2025-08-30T17:50:48: 2025-08-31T00:50:48.508Z üü¢ [SESSION] FMB Enterprise Session configured for production mode
2025-08-30T17:50:48: 2025-08-31T00:50:48.508Z üü¢ [SESSION] Initializing MS SQL session store for production
2025-08-30T17:50:48: 2025-08-31T00:50:48.510Z üü¢ [SESSION] Custom MS SQL session store initialized successfully
2025-08-30T17:50:48: 2025-08-31T00:50:48.510Z üü¢ [SESSION] Session store initialization completed
2025-08-30T17:50:48: 2025-08-31T00:50:48.510Z üü¢ [SERVER] FMB Session middleware configured successfully
2025-08-30T17:50:48: 2025-08-31T00:50:48.512Z üü¢ [SECURITY] Enterprise session security middleware activated
2025-08-30T17:50:48: üöÄ Setting up FMB SAML Authentication for On-Premises environment...
2025-08-30T17:50:48: 2025-08-31T00:50:48.515Z üîµ [FMB-SAML] Initializing FMB SAML Authentication
2025-08-30T17:50:48: üîß [FMB-DATABASE] Creating new FMB storage instance...
2025-08-30T17:50:48: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
2025-08-30T17:50:48: [dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
2025-08-30T17:50:48: üè¢ FMB On-Premises configuration loaded
2025-08-30T17:50:48: üîó [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-30T17:50:48: 2025-08-31T00:50:48.518Z üî¥ [SERVER] Critical server startup failure: {
  "message": "idpCert is required",
  "name": "TypeError",
  "code": "NO_CODE",
  "stack": "TypeError: idpCert is required\n    at assertRequired (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\utility.js:10:15)\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:53:38)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)",
  "errorType": "object",
  "errorConstructor": "TypeError",
  "serializedError": "{\"stack\":\"TypeError: idpCert is required\\n    at assertRequired (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\utility.js:10:15)\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:53:38)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1201:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2642:9)\\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:3895:3)\",\"message\":\"idpCert is required\"}"
}
2025-08-30T17:50:48: 2025-08-31T00:50:48.590Z üóÑÔ∏è [FMB-STORAGE] CONNECT: Connection failed: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:48: ‚ùå [FMB-STORAGE] Connection failed: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:48: ‚ùå [FMB-DATABASE] Failed to connect to FMB database: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
    at C:\fmb-timetracker\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:970:18)
    at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:12)
    at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ESOCKET',
  originalError: ConnectionError: Failed to connect to HUB-SQL1TST-LIS:1433 - self-signed certificate
      at Connection.socketError (C:\fmb-timetracker\node_modules\tedious\lib\connection.js:1353:28)
      at C:\fmb-timetracker\node_modules\tedious\lib\connection.js:2258:25
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
    code: 'ESOCKET',
    [cause]: Error: self-signed certificate
        at TLSSocket.onConnectSecure (node:_tls_wrap:1679:34)
        at TLSSocket.emit (node:events:518:28)
        at TLSSocket._finishInit (node:_tls_wrap:1078:8)
        at ssl.onhandshakedone (node:_tls_wrap:864:12)
        at DuplexSocket.ondata (node:internal/js_stream_socket:79:22)
        at DuplexSocket.emit (node:events:518:28)
        at addChunk (node:internal/streams/readable:561:12)
        at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
        at Readable.push (node:internal/streams/readable:392:5)
        at DuplexSocket._write (C:\fmb-timetracker\node_modules\native-duplexpair\index.js:24:22) {
      code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
    }
  }
}
2025-08-30T17:50:48: üü¢ [FMB-SESSION] Session table structure verified
2025-08-30T17:50:49: 2025-08-31T00:50:49.018Z üî¥ [SERVER] Exiting due to startup failure
