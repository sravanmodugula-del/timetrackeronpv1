2025-08-31T15:16:57: 2025-08-31T22:16:57.354Z 🟢 [SERVER] Starting FMB TimeTracker On-Premises Application...
2025-08-31T15:16:57: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }
2025-08-31T15:16:57: [dotenv@17.2.1] injecting env (23) from .env -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com
2025-08-31T15:16:57: 🏢 FMB On-Premises configuration loaded
2025-08-31T15:16:57: 🔍 [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-08-31T15:16:57: ✅ [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-08-31T15:16:57: 🔍 [FMB-CONFIG] Certificate length: 1004 characters
2025-08-31T15:16:57: 2025-08-31T22:16:57.362Z 🟢 [FMB-ONPREM] FMB On-premises environment initialized
2025-08-31T15:16:57: 2025-08-31T22:16:57.363Z 🟢 [CONFIG] FMB session secret validated successfully
2025-08-31T15:16:57: 🔗 Connecting to FMB MS SQL database...
2025-08-31T15:16:57: ✅ FMB Database connection established successfully
2025-08-31T15:16:57: 2025-08-31T22:16:57.471Z 🟢 [DATABASE] FMB Database initialization completed successfully
2025-08-31T15:16:57: 2025-08-31T22:16:57.475Z 🟢 [SESSION] FMB Enterprise Session configured for production mode
2025-08-31T15:16:57: 2025-08-31T22:16:57.475Z 🟢 [SESSION] Initializing MS SQL session store for production
2025-08-31T15:16:57: 2025-08-31T22:16:57.476Z 🟢 [SESSION] Custom MS SQL session store initialized successfully
2025-08-31T15:16:57: 2025-08-31T22:16:57.477Z 🟢 [SESSION] Session store initialization completed
2025-08-31T15:16:57: 2025-08-31T22:16:57.477Z 🟢 [SERVER] FMB Session middleware configured successfully
2025-08-31T15:16:57: 2025-08-31T22:16:57.480Z 🟢 [SECURITY] Enterprise session security middleware activated
2025-08-31T15:16:57: 🚀 Setting up FMB SAML Authentication for On-Premises environment...
2025-08-31T15:16:57: 2025-08-31T22:16:57.483Z 🔵 [FMB-SAML] Initializing FMB SAML Authentication
2025-08-31T15:16:57: 🔧 [FMB-DATABASE] Creating new FMB storage instance...
2025-08-31T15:16:57: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }
2025-08-31T15:16:57: [dotenv@17.2.1] injecting env (0) from .env -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com
2025-08-31T15:16:57: 🏢 FMB On-Premises configuration loaded
2025-08-31T15:16:57: 🔍 [FMB-CONFIG] Looking for certificate at: C:\fmb-timetracker\saml_cert.pem
2025-08-31T15:16:57: ✅ [FMB-CONFIG] Certificate loaded successfully from: C:\fmb-timetracker\saml_cert.pem
2025-08-31T15:16:57: 🔍 [FMB-CONFIG] Certificate length: 1004 characters
2025-08-31T15:16:57: 🔗 [FMB-STORAGE] Connecting to FMB MS SQL Server...
2025-08-31T15:16:57: 2025-08-31T22:16:57.488Z 🟢 [FMB-SAML] SAML Certificate validation {
2025-08-31T15:16:57:   "certLength": 1004,
2025-08-31T15:16:57:   "hasBeginMarker": true,
2025-08-31T15:16:57:   "hasEndMarker": true
2025-08-31T15:16:57: }
2025-08-31T15:16:57: 2025-08-31T22:16:57.489Z 🔵 [FMB-SAML] FMB SAML Authentication setup completed
2025-08-31T15:16:57: 🛡️ [SESSION-MGMT] Enterprise session management routes registered
2025-08-31T15:16:57: 🛡️ [SESSION-MGMT] Enterprise session management routes registered
2025-08-31T15:16:57: 2025-08-31T22:16:57.495Z 🟢 [SERVER] FMB TimeTracker running on http://0.0.0.0:3000
2025-08-31T15:16:57: 2025-08-31T22:16:57.495Z 🟢 [SERVER] Environment: fmb-onprem
2025-08-31T15:16:57: 2025-08-31T22:16:57.495Z 🟢 [FMB-ONPREM] On-premises deployment active - SAML authentication enabled
2025-08-31T15:16:57: 2025-08-31T22:16:57.563Z 🗄️ [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
2025-08-31T15:16:57: 🟢 [FMB-SESSION] Session table structure verified
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 2025-08-31T22:17:20.335Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640243-ypp0lv', recordCount: 1 }
2025-08-31T15:17:20: 2025-08-31T22:17:20.336Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:20:   "userId": "user-1756655138413",
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 2025-08-31T22:17:20.337Z 🔵 [FMB-SAML] SAML ACS callback received - IdP-initiated flow {
2025-08-31T15:17:20:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:20:   "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0",
2025-08-31T15:17:20:   "timestamp": "2025-08-31T22:17:20.337Z",
2025-08-31T15:17:20:   "hasBody": true,
2025-08-31T15:17:20:   "bodyKeys": [
2025-08-31T15:17:20:     "SAMLResponse"
2025-08-31T15:17:20:   ],
2025-08-31T15:17:20:   "headers": {
2025-08-31T15:17:20:     "content-type": "application/x-www-form-urlencoded",
2025-08-31T15:17:20:     "content-length": "8093"
2025-08-31T15:17:20:   }
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 2025-08-31T22:17:20.409Z 🔵 [FMB-SAML] SAML profile received {
2025-08-31T15:17:20:   "nameID": "Sravan.Modugula@fmb.com",
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com",
2025-08-31T15:17:20:   "firstName": "Sravan",
2025-08-31T15:17:20:   "lastName": "Modugula"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 2025-08-31T22:17:20.440Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640410-sc8ixh', recordCount: 1 }
2025-08-31T15:17:20: 🔄 [SQL] 
2025-08-31T15:17:20:  operation on users
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 7 parameters
2025-08-31T15:17:20: ✅ [SQL] Operation completed: 1 rows affected
2025-08-31T15:17:20: 2025-08-31T22:17:20.484Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640440-8b8ab1', recordCount: 0 }
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 2025-08-31T22:17:20.515Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640485-wgeqg1', recordCount: 1 }
2025-08-31T15:17:20: 2025-08-31T22:17:20.515Z 🔵 [FMB-SAML] User upserted in database {
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 2025-08-31T22:17:20.515Z 🔵 [FMB-SAML] User authenticated and stored {
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 🗑️ [FMB-SESSION] Session destroyed successfully
2025-08-31T15:17:20: 2025-08-31T22:17:20.590Z 🟢 [FMB-SAML] Serializing user for session {
2025-08-31T15:17:20:   "userId": "user-1756655138413",
2025-08-31T15:17:20:   "timestamp": "2025-08-31T22:17:20.590Z",
2025-08-31T15:17:20:   "source": "saml"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 🔵 [FMB-SAML] User session established and saved: Sravan.Modugula@fmb.com
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 2025-08-31T22:17:20.824Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640796-gpi8xv', recordCount: 1 }
2025-08-31T15:17:20: 2025-08-31T22:17:20.824Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:20:   "userId": "user-1756655138413",
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:20: 2025-08-31T22:17:20.963Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640934-qr23i9', recordCount: 1 }
2025-08-31T15:17:20: 2025-08-31T22:17:20.963Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:20:   "userId": "user-1756655138413",
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:20: 2025-08-31T22:17:20.988Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678640961-ynim7i', recordCount: 1 }
2025-08-31T15:17:20: 2025-08-31T22:17:20.989Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:20:   "userId": "user-1756655138413",
2025-08-31T15:17:20:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:20: }
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 2025-08-31T22:17:21.513Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641487-mz5nb6', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.514Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.514Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.514Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 2025-08-31T22:17:21.531Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641504-14k0ey', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.531Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.543Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641514-aqulne', recordCount: 1 }
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 2025-08-31T22:17:21.784Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641753-razb8d', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.784Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.784Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.785Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 2025-08-31T22:17:21.786Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641756-tx4ccl', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.786Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.786Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/stats {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.786Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 3 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:21: 2025-08-31T22:17:21.813Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641779-h9r044', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.814Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.814Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.814Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.814Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-08-31T15:17:21: 2025-08-31T22:17:21.816Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641785-uzazrg', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.841Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641787-9v5oip', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.844Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641787-hb0luv', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.868Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641787-hfohjx', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.871Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641790-09cyvs', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.871Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.871Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/recent-activity {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.871Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.873Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678641808-rhy2ks', recordCount: 1 }
2025-08-31T15:17:21: 2025-08-31T22:17:21.874Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.875Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/project-breakdown {
2025-08-31T15:17:21:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:21:   "isAuthenticated": true
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.875Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:21:   "userId": "user-1756655138413",
2025-08-31T15:17:21:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:21: }
2025-08-31T15:17:21: 2025-08-31T22:17:21.877Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 4 }
2025-08-31T15:17:31: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:31: 2025-08-31T22:17:31.867Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678651837-pf9f4d', recordCount: 1 }
2025-08-31T15:17:31: 2025-08-31T22:17:31.867Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:31:   "userId": "user-1756655138413",
2025-08-31T15:17:31:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:31: }
2025-08-31T15:17:31: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:31: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:31: 2025-08-31T22:17:31.994Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678651965-8hlkaz', recordCount: 1 }
2025-08-31T15:17:31: 2025-08-31T22:17:31.994Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:31:   "userId": "user-1756655138413",
2025-08-31T15:17:31:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:31: }
2025-08-31T15:17:31: 2025-08-31T22:17:31.998Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678651971-uxgl9f', recordCount: 1 }
2025-08-31T15:17:31: 2025-08-31T22:17:31.998Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:31:   "userId": "user-1756655138413",
2025-08-31T15:17:31:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:31: }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.260Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652231-7d0war', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.260Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.261Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652233-e2p3q2', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.262Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.262Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:32:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:32:   "isAuthenticated": true
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.262Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.290Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652262-qnvaur', recordCount: 1 }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.512Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652483-h7a1nt', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.512Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.512Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:32:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:32:   "isAuthenticated": true
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.512Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.514Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652485-vhg5cs', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.514Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.515Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-08-31T15:17:32:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:32:   "isAuthenticated": true
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.515Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.515Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-08-31T15:17:32: 2025-08-31T22:17:32.516Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652488-sm64bc', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.516Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.516Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/projects {
2025-08-31T15:17:32:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:32:   "isAuthenticated": true
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.516Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.519Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652489-cl33y7', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.520Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.520Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/employees {
2025-08-31T15:17:32:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:32:   "isAuthenticated": true
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 2025-08-31T22:17:32.520Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:32:   "userId": "user-1756655138413",
2025-08-31T15:17:32:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:32: }
2025-08-31T15:17:32: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:32: 2025-08-31T22:17:32.539Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652512-5uxcv3', recordCount: 1 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.545Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 4 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.549Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652520-ylado2', recordCount: 0 }
2025-08-31T15:17:32: 2025-08-31T22:17:32.552Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678652517-5cysby', recordCount: 2 }
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 2025-08-31T22:17:33.977Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653949-fzavw2', recordCount: 1 }
2025-08-31T15:17:33: 2025-08-31T22:17:33.977Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.977Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:33:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:33:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:33:   "isAuthenticated": true
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.977Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 2025-08-31T22:17:33.981Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653951-ovedve', recordCount: 1 }
2025-08-31T15:17:33: 2025-08-31T22:17:33.982Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.984Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653953-ppo9ax', recordCount: 1 }
2025-08-31T15:17:33: 2025-08-31T22:17:33.984Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.984Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/users/current-role {
2025-08-31T15:17:33:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:33:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:33:   "isAuthenticated": true
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.984Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:33: 2025-08-31T22:17:33.985Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653952-4g14hv', recordCount: 1 }
2025-08-31T15:17:33: 2025-08-31T22:17:33.985Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:33: }
2025-08-31T15:17:33: 2025-08-31T22:17:33.988Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653958-g68h1g', recordCount: 1 }
2025-08-31T15:17:33: 2025-08-31T22:17:33.988Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:33:   "userId": "user-1756655138413",
2025-08-31T15:17:33:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:33: }
2025-08-31T15:17:34: 2025-08-31T22:17:34.004Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653977-elmsgj', recordCount: 1 }
2025-08-31T15:17:34: 2025-08-31T22:17:34.014Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678653984-sgfalr', recordCount: 1 }
2025-08-31T15:17:36: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:36: 2025-08-31T22:17:36.657Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678656629-x7ma8g', recordCount: 1 }
2025-08-31T15:17:36: 2025-08-31T22:17:36.657Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:36:   "userId": "user-1756655138413",
2025-08-31T15:17:36:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 2025-08-31T22:17:36.658Z 🟢 [FMB-SAML] FMB Authentication check for POST /api/users/change-role {
2025-08-31T15:17:36:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:36:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:36:   "isAuthenticated": true
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 2025-08-31T22:17:36.658Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:36:   "userId": "user-1756655138413",
2025-08-31T15:17:36:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 🗄️ [FMB-STORAGE] UPDATE_USER_ROLE: { userId: 'user-1756655138413', role: 'admin' }
2025-08-31T15:17:36: Error changing user role: RequestError: The parameter name userId has already been declared. Parameter names must be unique
2025-08-31T15:17:36:     at Request.input (C:\fmb-timetracker\node_modules\mssql\lib\base\request.js:129:13)
2025-08-31T15:17:36:     at FmbStorage.updateUserRole (file:///C:/fmb-timetracker/dist/index.js:1727:38)
2025-08-31T15:17:36:     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31T15:17:36:     at async file:///C:/fmb-timetracker/dist/index.js:4825:7 {
2025-08-31T15:17:36:   code: 'EDUPEPARAM'
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:36: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:36: 2025-08-31T22:17:36.848Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678656821-ukuahn', recordCount: 1 }
2025-08-31T15:17:36: 2025-08-31T22:17:36.849Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:36:   "userId": "user-1756655138413",
2025-08-31T15:17:36:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 2025-08-31T22:17:36.769Z 🔴 [FRONTEND-API] Request frot664pd exception {
2025-08-31T15:17:36:   data: {
2025-08-31T15:17:36:     requestId: 'frot664pd',
2025-08-31T15:17:36:     method: 'POST',
2025-08-31T15:17:36:     url: '/api/users/change-role',
2025-08-31T15:17:36:     error: {
2025-08-31T15:17:36:       name: 'Error',
2025-08-31T15:17:36:       message: 'Failed to change user role',
2025-08-31T15:17:36:       stack: 'Error: Failed to change user role\n' +
2025-08-31T15:17:36:         '    at ft (https://timetracker.fmb.com/assets/index-ClBr-oWO.js:48:39639)\n' +
2025-08-31T15:17:36:         '    at async Object.mutationFn (https://timetracker.fmb.com/assets/index-ClBr-oWO.js:388:37142)'
2025-08-31T15:17:36:     }
2025-08-31T15:17:36:   },
2025-08-31T15:17:36:   url: 'https://timetracker.fmb.com/role-testing',
2025-08-31T15:17:36:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-08-31T15:17:36:   ip: '192.168.210.12:59455',
2025-08-31T15:17:36:   sessionId: '4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe'
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 2025-08-31T22:17:36.852Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678656823-ozagfo', recordCount: 1 }
2025-08-31T15:17:36: 2025-08-31T22:17:36.852Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:36:   "userId": "user-1756655138413",
2025-08-31T15:17:36:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:36: }
2025-08-31T15:17:36: 2025-08-31T22:17:36.769Z 🔴 [FRONTEND-API] Request frot664pd failed {
2025-08-31T15:17:36:   data: {
2025-08-31T15:17:36:     requestId: 'frot664pd',
2025-08-31T15:17:36:     method: 'POST',
2025-08-31T15:17:36:     url: '/api/users/change-role',
2025-08-31T15:17:36:     status: 500,
2025-08-31T15:17:36:     error: { message: 'Failed to change user role' },
2025-08-31T15:17:36:     duration: '193ms'
2025-08-31T15:17:36:   },
2025-08-31T15:17:36:   url: 'https://timetracker.fmb.com/role-testing',
2025-08-31T15:17:36:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-08-31T15:17:36:   ip: '192.168.210.12:59455',
2025-08-31T15:17:36:   sessionId: '4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe'
2025-08-31T15:17:36: }
2025-08-31T15:17:42: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:42: 2025-08-31T22:17:42.824Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678662795-vp46ea', recordCount: 1 }
2025-08-31T15:17:42: 2025-08-31T22:17:42.825Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:42:   "userId": "user-1756655138413",
2025-08-31T15:17:42:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:42: }
2025-08-31T15:17:42: 2025-08-31T22:17:42.825Z 🟢 [FMB-SAML] FMB Authentication check for POST /api/users/change-role {
2025-08-31T15:17:42:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:42:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:42:   "isAuthenticated": true
2025-08-31T15:17:42: }
2025-08-31T15:17:42: 2025-08-31T22:17:42.825Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:42:   "userId": "user-1756655138413",
2025-08-31T15:17:42:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:42: }
2025-08-31T15:17:42: 🗄️ [FMB-STORAGE] UPDATE_USER_ROLE: { userId: 'user-1756655138413', role: 'admin' }
2025-08-31T15:17:42: Error changing user role: RequestError: The parameter name userId has already been declared. Parameter names must be unique
2025-08-31T15:17:42:     at Request.input (C:\fmb-timetracker\node_modules\mssql\lib\base\request.js:129:13)
2025-08-31T15:17:42:     at FmbStorage.updateUserRole (file:///C:/fmb-timetracker/dist/index.js:1727:38)
2025-08-31T15:17:42:     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-08-31T15:17:42:     at async file:///C:/fmb-timetracker/dist/index.js:4825:7 {
2025-08-31T15:17:42:   code: 'EDUPEPARAM'
2025-08-31T15:17:42: }
2025-08-31T15:17:43: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:43: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:43: 2025-08-31T22:17:43.034Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678663006-leag0v', recordCount: 1 }
2025-08-31T15:17:43: 2025-08-31T22:17:43.034Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:43:   "userId": "user-1756655138413",
2025-08-31T15:17:43:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:43: }
2025-08-31T15:17:43: 2025-08-31T22:17:42.958Z 🔴 [FRONTEND-API] Request cyfj21ub2 exception {
2025-08-31T15:17:43:   data: {
2025-08-31T15:17:43:     requestId: 'cyfj21ub2',
2025-08-31T15:17:43:     method: 'POST',
2025-08-31T15:17:43:     url: '/api/users/change-role',
2025-08-31T15:17:43:     error: {
2025-08-31T15:17:43:       name: 'Error',
2025-08-31T15:17:43:       message: 'Failed to change user role',
2025-08-31T15:17:43:       stack: 'Error: Failed to change user role\n' +
2025-08-31T15:17:43:         '    at ft (https://timetracker.fmb.com/assets/index-ClBr-oWO.js:48:39639)\n' +
2025-08-31T15:17:43:         '    at async Object.mutationFn (https://timetracker.fmb.com/assets/index-ClBr-oWO.js:388:37142)'
2025-08-31T15:17:43:     }
2025-08-31T15:17:43:   },
2025-08-31T15:17:43:   url: 'https://timetracker.fmb.com/role-testing',
2025-08-31T15:17:43:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-08-31T15:17:43:   ip: '192.168.210.12:59455',
2025-08-31T15:17:43:   sessionId: '4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe'
2025-08-31T15:17:43: }
2025-08-31T15:17:43: 2025-08-31T22:17:43.037Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678663008-gdlssx', recordCount: 1 }
2025-08-31T15:17:43: 2025-08-31T22:17:43.037Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:43:   "userId": "user-1756655138413",
2025-08-31T15:17:43:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:43: }
2025-08-31T15:17:43: 2025-08-31T22:17:42.957Z 🔴 [FRONTEND-API] Request cyfj21ub2 failed {
2025-08-31T15:17:43:   data: {
2025-08-31T15:17:43:     requestId: 'cyfj21ub2',
2025-08-31T15:17:43:     method: 'POST',
2025-08-31T15:17:43:     url: '/api/users/change-role',
2025-08-31T15:17:43:     status: 500,
2025-08-31T15:17:43:     error: { message: 'Failed to change user role' },
2025-08-31T15:17:43:     duration: '212ms'
2025-08-31T15:17:43:   },
2025-08-31T15:17:43:   url: 'https://timetracker.fmb.com/role-testing',
2025-08-31T15:17:43:   userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0',
2025-08-31T15:17:43:   ip: '192.168.210.12:59455',
2025-08-31T15:17:43:   sessionId: '4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe'
2025-08-31T15:17:43: }
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 2025-08-31T22:17:46.083Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666056-tvrwhg', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.083Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.084Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/auth/user {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.084Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 2025-08-31T22:17:46.086Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666058-zryuib', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.086Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.086Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/organizations {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.086Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.086Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: Fetching organizations for user { userId: 'user-1756655138413' }
2025-08-31T15:17:46: 2025-08-31T22:17:46.089Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666062-l3duym', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.089Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.089Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/recent-activity {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.089Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.091Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666064-c7c8g0', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.091Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.091Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/project-breakdown {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.091Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.093Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666067-cudfl2', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.094Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.094Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/stats {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.094Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 3 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 2025-08-31T22:17:46.111Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666084-29tmpl', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.113Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666082-redjkq', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.113Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.118Z 🗄️ [FMB-STORAGE] GET_USER_ORGS: User organizations fetched successfully { userId: 'user-1756655138413', count: 4 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.124Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666094-vdjfs1', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.125Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666094-p4umx6', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.139Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666094-h0fd7v', recordCount: 1 }
2025-08-31T15:17:46: 🗄️ [SQL] Executing with 1 parameters
2025-08-31T15:17:46: 2025-08-31T22:17:46.261Z 🗄️ [FMB-STORAGE] EXECUTE: Query completed successfully { executeId: 'exec-1756678666234-me6xcj', recordCount: 1 }
2025-08-31T15:17:46: 2025-08-31T22:17:46.262Z 🟢 [FMB-SAML] User deserialized successfully {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "email": "Sravan.Modugula@fmb.com"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.262Z 🟢 [FMB-SAML] FMB Authentication check for GET /api/dashboard/department-hours {
2025-08-31T15:17:46:   "ip": "192.168.210.12:59455",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe",
2025-08-31T15:17:46:   "isAuthenticated": true
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 2025-08-31T22:17:46.262Z 🟢 [FMB-SAML] FMB Authentication successful {
2025-08-31T15:17:46:   "userId": "user-1756655138413",
2025-08-31T15:17:46:   "sessionId": "4847ca7f2d24b325d3cff496de025fd9f7a0eb798a774f68a05e215485bd97fe"
2025-08-31T15:17:46: }
2025-08-31T15:17:46: 🏢 Fetching department hours for user: user-1756655138413 dates: 2025-08-24 2025-08-31
2025-08-31T15:17:46: 📊 Department hours result: []
