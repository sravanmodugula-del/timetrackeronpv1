PS C:\Users\ADM91381> cd..

PS C:\Users> cd..

PS C:\> cd .\fmb-timetracker

PS C:\fmb-timetracker> # FMB TimeTracker Simple Deployment Script
param(
    [string]$InstallPath = "C:\fmb-timetracker"
)

Write-Host "ğŸš€ FMB TimeTracker Deployment" -ForegroundColor Green

# Check admin privileges
if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) {
    Write-Host "âŒ Run as Administrator" -ForegroundColor Red
    exit 1
}

# Create logs directory
if (-not (Test-Path "$InstallPath\logs")) {
    New-Item -ItemType Directory -Path "$InstallPath\logs" -Force | Out-Null
}

# Check .env file
if (-not (Test-Path ".env")) {
    if (Test-Path "fmb-onprem/.env.fmb-onprem") {
        Copy-Item "fmb-onprem/.env.fmb-onprem" ".env"
        Write-Host "âœ… Environment file copied" -ForegroundColor Green
    } else {
        Write-Host "âŒ No .env file found" -ForegroundColor Red
        exit 1
    }
}

# Stop existing processes
Write-Host "â¹ï¸ Stopping application..." -ForegroundColor Yellow
npx pm2 delete fmb-timetracker 2>$null

# Install dependencies
Write-Host "ğŸ“¦ Installing dependencies..." -ForegroundColor Yellow
npm install --legacy-peer-deps

# Build application
Write-Host "ğŸ”¨ Building..." -ForegroundColor Yellow
npm run build

if (-not (Test-Path "dist/index.js")) {
    Write-Host "âŒ Build failed" -ForegroundColor Red
    exit 1
}

# Start application
Write-Host "â–¶ï¸ Starting application..." -ForegroundColor Yellow
npx pm2 start ecosystem.config.cjs

# Wait and check status
Start-Sleep -Seconds 15
$status = npx pm2 jlist | ConvertFrom-Json
$app = $status | Where-Object { $_.name -eq "fmb-timetracker" }

if ($app -and $app.pm2_env.status -eq "online") {
    Write-Host "âœ… Deployment successful!" -ForegroundColor Green
    Write-Host "ğŸŒ Check: http://localhost:3000" -ForegroundColor Green
    
    # Health check
    Start-Sleep -Seconds 5
    try {
        $response = Invoke-WebRequest -Uri "http://localhost:3000/health" -UseBasicParsing -TimeoutSec 10
        if ($response.StatusCode -eq 200) {
            Write-Host "âœ… Health check passed" -ForegroundColor Green
        }
    } catch {
        Write-Host "âš ï¸ Health check failed - check logs" -ForegroundColor Yellow
    }
} else {
    Write-Host "logs" -ForegroundColor Red
    npx pm2 logs fmb-timetracker --lines 10
    exit 1
}

Write-Host "ğŸ“‹ Commands: npx pm2 status | npx pm2 logs" -ForegroundColor Cyan
ğŸš€ FMB TimeTracker Deployment
â¹ï¸ Stopping application...
[PM2] Applying action deleteProcessId on app [fmb-timetracker](ids: [ 0 ])
[PM2] [fmb-timetracker](0) Ã¢Å“â€œ
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name      Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
ğŸ“¦ Installing dependencies...

up to date, audited 804 packages in 3s

111 packages are looking for funding
  run `npm fund` for details

6 vulnerabilities (1 low, 5 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
ğŸ”¨ Building...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

[36mvite v7.1.3 [32mbuilding for production...[36m[39m
transforming...
[32mÃ¢Å“â€œ[39m 2077 modules transformed.
rendering chunks...
computing gzip size...
[2m../dist/public/[22m[32mindex.html                 [39m[1m[2m  0.86 kB[22m[1m[22m[2m Ã¢â€â€š gzip:   0.44 kB[22m
[2m../dist/public/[22m[35massets/index-81F4Kgy-.css  [39m[1m[2m 70.03 kB[22m[1m[22m[2m Ã¢â€â€š gzip:  12.48 kB[22m
[2m../dist/public/[22m[36massets/index-DcguImM-.js   [39m[1m[33m635.18 kB[39m[22m[2m Ã¢â€â€š gzip: 179.38 kB[22m
node.exe : [33m
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([33m:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.[39m
[32mÃ¢Å“â€œ built in 7.63s[39m
  dist\index.js  153.4kb
Done in 24ms
â–¶ï¸ Starting application...
[PM2][WARN] Applications fmb-timetracker not running, starting...
[PM2] App [fmb-timetracker] launched (1 instances)
Ã¢â€Å’Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â
Ã¢â€â€š id Ã¢â€â€š name               Ã¢â€â€š namespace   Ã¢â€â€š version Ã¢â€â€š mode    Ã¢â€â€š pid      Ã¢â€â€š uptime Ã¢â€â€š Ã¢â€ Âº    Ã¢â€â€š status    Ã¢â€â€š cpu      Ã¢â€â€š mem      Ã¢â€â€š user     Ã¢â€â€š watching Ã¢â€â€š
Ã¢â€Å“Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¼Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â¤
Ã¢â€â€š 0  Ã¢â€â€š fmb-timetracker    Ã¢â€â€š default     Ã¢â€â€š 1.0.0   Ã¢â€â€š fork    Ã¢â€â€š 10872    Ã¢â€â€š 0s     Ã¢â€â€š 0    Ã¢â€â€š online    Ã¢â€â€š 0%       Ã¢â€â€š 62.9mb   Ã¢â€â€š ADM91381 Ã¢â€â€š disabled Ã¢â€â€š
Ã¢â€â€Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢
â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Â´Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€
â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€â‚¬Ã¢â€Ëœ
ConvertFrom-Json : Cannot convert the JSON string because a dictionary that was converted from the string contains the duplicated keys 'USERNAME' and 'username'.
At line:53 char:27
+ $status = npx pm2 jlist | ConvertFrom-Json
+                           ~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (:) [ConvertFrom-Json], InvalidOperationException
    + FullyQualifiedErrorId : DuplicateKeysInJsonString,Microsoft.PowerShell.Commands.ConvertFromJsonCommand
 
logs
[TAILING] Tailing last 10 lines for [fmb-timetracker] process (change the value with --lines option)
C:\fmb-timetracker\logs\err-0.log last 10 lines:
0|fmb-time | 2025-08-30T22:25:25:     at checkDatabaseHealth2 (file:///C:/fmb-timetracker/dist/index.js:2694:20)
0|fmb-time | 2025-08-30T22:25:25:     at file:///C:/fmb-timetracker/dist/index.js:3631:31
0|fmb-time | 2025-08-30T22:25:25:     at Layer.handle [as handle_request] (C:\fmb-timetracker\node_modules\express\lib\router\layer.js:95:5)
0|fmb-time | 2025-08-30T22:25:25:     at next (C:\fmb-timetracker\node_modules\express\lib\router\route.js:149:13)
0|fmb-time | 2025-08-30T22:25:25:     at Route.dispatch (C:\fmb-timetracker\node_modules\express\lib\router\route.js:119:3)
0|fmb-time | 2025-08-30T22:25:25:     at Layer.handle [as handle_request] (C:\fmb-timetracker\node_modules\express\lib\router\layer.js:95:5)
0|fmb-time | 2025-08-30T22:25:25:     at C:\fmb-timetracker\node_modules\express\lib\router\index.js:284:15
0|fmb-time | 2025-08-30T22:25:25:     at Function.process_params (C:\fmb-timetracker\node_modules\express\lib\router\index.js:346:12)
0|fmb-time | 2025-08-30T22:25:25:     at next (C:\fmb-timetracker\node_modules\express\lib\router\index.js:280:10)
0|fmb-time | 2025-08-30T22:25:25:     at strategy.pass (C:\fmb-timetracker\node_modules\passport\lib\middleware\authenticate.js:355:9)

C:\fmb-timetracker\logs\out-0.log last 10 lines:
0|fmb-time | ode-saml\\node-saml\\lib\\saml.js:103:19)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\nod
e_modules\\@node-saml\\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C
:/fmb-timetracker/dist/index.js:1292:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:4048:3)",
0|fmb-time | 2025-08-30T23:34:59:   "errorType": "object",
0|fmb-time | 2025-08-30T23:34:59:   "errorConstructor": "TypeError",
0|fmb-time | 2025-08-30T23:34:59:   "serializedError": "{\"stack\":\"TypeError: validateInResponseTo must be one of ['never', 'ifPresent', 'always']\\n    at SAML.initialize (C:\\\\fmb-timetracker\\\\node_
modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:103:19)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrategy (C:\\
\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.
js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1292:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\\n    at async createServer2 (file:///C:/fmb
-timetracker/dist/index.js:4048:3)\",\"message\":\"validateInResponseTo must be one of ['never', 'ifPresent', 'always']\"}"
0|fmb-time | 2025-08-30T23:34:59: }
0|fmb-time | 2025-08-30T23:34:59: 2025-08-31T06:34:59.617Z Ã°Å¸â€”â€Ã¯Â¸Â [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
0|fmb-time | 2025-08-30T23:34:59: Ã°Å¸Å¸Â¢ [FMB-SESSION] Session table structure verified
0|fmb-time | 2025-08-30T23:35:00: 2025-08-31T06:35:00.008Z Ã°Å¸â€Â´ [SERVER] Exiting due to startup failure
0|fmb-time | 2025-08-30T23:35:00: Ã°Å¸Å¸Â¡ [FMB-SESSION] Initiating graceful shutdown...

0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.745Z Ã°Å¸Å¸Â¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
0|fmb-timetracker  | 2025-08-30T23:35:04: [dotenv@17.2.1] injecting env (26) from fmb-onprem\.env.fmb-onprem -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  suppress all logs with { quiet: true }
0|fmb-timetracker  | 2025-08-30T23:35:04: [dotenv@17.2.1] injecting env (11) from .env -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  enable debug logging with { debug: true }
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.751Z Ã°Å¸Å¸Â¢ [FMB-ONPREM] FMB On-premises environment initialized
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.751Z Ã°Å¸Å¸Â¢ [CONFIG] FMB session secret validated successfully
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€â€” Connecting to FMB MS SQL database...
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã¢Å“â€¦ FMB Database connection established successfully
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.954Z Ã°Å¸Å¸Â¢ [DATABASE] FMB Database initialization completed successfully
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.959Z Ã°Å¸Å¸Â¢ [SESSION] FMB Enterprise Session configured for production mode
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.960Z Ã°Å¸Å¸Â¢ [SESSION] Initializing MS SQL session store for production
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.961Z Ã°Å¸Å¸Â¢ [SESSION] Custom MS SQL session store initialized successfully
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.962Z Ã°Å¸Å¸Â¢ [SESSION] Session store initialization completed
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.962Z Ã°Å¸Å¸Â¢ [SERVER] FMB Session middleware configured successfully
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.965Z Ã°Å¸Å¸Â¢ [SECURITY] Enterprise session security middleware activated
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸Å¡â‚¬ Setting up FMB SAML Authentication for On-Premises environment...
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.969Z Ã°Å¸â€Âµ [FMB-SAML] Initializing FMB SAML Authentication
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€Â§ [FMB-DATABASE] Creating new FMB storage instance...
0|fmb-timetracker  | 2025-08-30T23:35:04: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  specify custom .env file path with { path: '/custom/path/.env' }
0|fmb-timetracker  | 2025-08-30T23:35:04: [dotenv@17.2.1] injecting env (0) from .env -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  override existing env vars with { override: true }
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:04: Ã°Å¸â€â€” [FMB-STORAGE] Connecting to FMB MS SQL Server...
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.973Z Ã°Å¸Å¸Â¢ [FMB-SAML] SAML Certificate validation {
0|fmb-timetracker  | 2025-08-30T23:35:04:   "certLength": 1004,
0|fmb-timetracker  | 2025-08-30T23:35:04:   "hasBeginMarker": true,
0|fmb-timetracker  | 2025-08-30T23:35:04:   "hasEndMarker": true
0|fmb-timetracker  | 2025-08-30T23:35:04: }
0|fmb-timetracker  | 2025-08-30T23:35:04: 2025-08-31T06:35:04.974Z Ã°Å¸â€Â´ [SERVER] Critical server startup failure: {
0|fmb-timetracker  | 2025-08-30T23:35:04:   "message": "validateInResponseTo must be one of ['never', 'ifPresent', 'always']",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "name": "TypeError",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "code": "NO_CODE",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "stack": "TypeError: validateInResponseTo must be one of ['never', 'ifPresent', 'always']\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\
\node-saml\\lib\\saml.js:103:19)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\
\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist
/index.js:1292:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:4048:3)",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "errorType": "object",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "errorConstructor": "TypeError",
0|fmb-timetracker  | 2025-08-30T23:35:04:   "serializedError": "{\"stack\":\"TypeError: validateInResponseTo must be one of ['never', 'ifPresent', 'always']\\n    at SAML.initialize (C:\\\\fmb-timetracker\
\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:103:19)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrate
gy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\s
trategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1292:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\\n    at async createServer2 (file:/
//C:/fmb-timetracker/dist/index.js:4048:3)\",\"message\":\"validateInResponseTo must be one of ['never', 'ifPresent', 'always']\"}"
0|fmb-timetracker  | 2025-08-30T23:35:04: }
0|fmb-timetracker  | 2025-08-30T23:35:05: 2025-08-31T06:35:05.103Z Ã°Å¸â€”â€Ã¯Â¸Â [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
0|fmb-timetracker  | 2025-08-30T23:35:05: Ã°Å¸Å¸Â¢ [FMB-SESSION] Session table structure verified
0|fmb-timetracker  | 2025-08-30T23:35:05: 2025-08-31T06:35:05.474Z Ã°Å¸â€Â´ [SERVER] Exiting due to startup failure
0|fmb-timetracker  | 2025-08-30T23:35:05: Ã°Å¸Å¸Â¡ [FMB-SESSION] Initiating graceful shutdown...
0|fmb-timetracker  | 2025-08-30T23:35:09: 2025-08-31T06:35:09.971Z Ã°Å¸Å¸Â¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
0|fmb-timetracker  | 2025-08-30T23:35:09: [dotenv@17.2.1] injecting env (26) from fmb-onprem\.env.fmb-onprem -- tip: Ã°Å¸â€Â encrypt with Dotenvx: https://dotenvx.com
0|fmb-timetracker  | 2025-08-30T23:35:09: [dotenv@17.2.1] injecting env (11) from .env -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  write to custom object with { processEnv: myObject }
0|fmb-timetracker  | 2025-08-30T23:35:09: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:09: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:09: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:09: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:09: 2025-08-31T06:35:09.978Z Ã°Å¸Å¸Â¢ [FMB-ONPREM] FMB On-premises environment initialized
0|fmb-timetracker  | 2025-08-30T23:35:09: 2025-08-31T06:35:09.978Z Ã°Å¸Å¸Â¢ [CONFIG] FMB session secret validated successfully
0|fmb-timetracker  | 2025-08-30T23:35:09: Ã°Å¸â€â€” Connecting to FMB MS SQL database...
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã¢Å“â€¦ FMB Database connection established successfully
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.180Z Ã°Å¸Å¸Â¢ [DATABASE] FMB Database initialization completed successfully
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.184Z Ã°Å¸Å¸Â¢ [SESSION] FMB Enterprise Session configured for production mode
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.185Z Ã°Å¸Å¸Â¢ [SESSION] Initializing MS SQL session store for production
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.187Z Ã°Å¸Å¸Â¢ [SESSION] Custom MS SQL session store initialized successfully
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.187Z Ã°Å¸Å¸Â¢ [SESSION] Session store initialization completed
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.187Z Ã°Å¸Å¸Â¢ [SERVER] FMB Session middleware configured successfully
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.190Z Ã°Å¸Å¸Â¢ [SECURITY] Enterprise session security middleware activated
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸Å¡â‚¬ Setting up FMB SAML Authentication for On-Premises environment...
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.194Z Ã°Å¸â€Âµ [FMB-SAML] Initializing FMB SAML Authentication
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸â€Â§ [FMB-DATABASE] Creating new FMB storage instance...
0|fmb-timetracker  | 2025-08-30T23:35:10: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: Ã°Å¸â€œÂ¡ observe env with Radar: https://dotenvx.com/radar
0|fmb-timetracker  | 2025-08-30T23:35:10: [dotenv@17.2.1] injecting env (0) from .env -- tip: Ã°Å¸â€œÂ¡ auto-backup env with Radar: https://dotenvx.com/radar
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸â€â€” [FMB-STORAGE] Connecting to FMB MS SQL Server...
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.197Z Ã°Å¸Å¸Â¢ [FMB-SAML] SAML Certificate validation {
0|fmb-timetracker  | 2025-08-30T23:35:10:   "certLength": 1004,
0|fmb-timetracker  | 2025-08-30T23:35:10:   "hasBeginMarker": true,
0|fmb-timetracker  | 2025-08-30T23:35:10:   "hasEndMarker": true
0|fmb-timetracker  | 2025-08-30T23:35:10: }
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.198Z Ã°Å¸â€Â´ [SERVER] Critical server startup failure: {
0|fmb-timetracker  | 2025-08-30T23:35:10:   "message": "validateInResponseTo must be one of ['never', 'ifPresent', 'always']",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "name": "TypeError",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "code": "NO_CODE",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "stack": "TypeError: validateInResponseTo must be one of ['never', 'ifPresent', 'always']\n    at SAML.initialize (C:\\fmb-timetracker\\node_modules\\@node-saml\
\node-saml\\lib\\saml.js:103:19)\n    at new SAML (C:\\fmb-timetracker\\node_modules\\@node-saml\\node-saml\\lib\\saml.js:43:29)\n    at new AbstractStrategy (C:\\fmb-timetracker\\node_modules\\@node-saml\
\passport-saml\\lib\\strategy.js:28:26)\n    at new Strategy (C:\\fmb-timetracker\\node_modules\\@node-saml\\passport-saml\\lib\\strategy.js:215:1)\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist
/index.js:1292:24)\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\n    at async createServer2 (file:///C:/fmb-timetracker/dist/index.js:4048:3)",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "errorType": "object",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "errorConstructor": "TypeError",
0|fmb-timetracker  | 2025-08-30T23:35:10:   "serializedError": "{\"stack\":\"TypeError: validateInResponseTo must be one of ['never', 'ifPresent', 'always']\\n    at SAML.initialize (C:\\\\fmb-timetracker\
\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:103:19)\\n    at new SAML (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\node-saml\\\\lib\\\\saml.js:43:29)\\n    at new AbstractStrate
gy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\strategy.js:28:26)\\n    at new Strategy (C:\\\\fmb-timetracker\\\\node_modules\\\\@node-saml\\\\passport-saml\\\\lib\\\\s
trategy.js:215:1)\\n    at setupFmbSamlAuth (file:///C:/fmb-timetracker/dist/index.js:1292:24)\\n    at registerRoutes (file:///C:/fmb-timetracker/dist/index.js:2795:9)\\n    at async createServer2 (file:/
//C:/fmb-timetracker/dist/index.js:4048:3)\",\"message\":\"validateInResponseTo must be one of ['never', 'ifPresent', 'always']\"}"
0|fmb-timetracker  | 2025-08-30T23:35:10: }
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.328Z Ã°Å¸â€”â€Ã¯Â¸Â [FMB-STORAGE] CONNECT: Successfully connected to MS SQL Server
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸Å¸Â¢ [FMB-SESSION] Session table structure verified
0|fmb-timetracker  | 2025-08-30T23:35:10: 2025-08-31T06:35:10.698Z Ã°Å¸â€Â´ [SERVER] Exiting due to startup failure
0|fmb-timetracker  | 2025-08-30T23:35:10: Ã°Å¸Å¸Â¡ [FMB-SESSION] Initiating graceful shutdown...
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.129Z Ã°Å¸Å¸Â¢ [SERVER] Starting FMB TimeTracker On-Premises Application...
0|fmb-timetracker  | 2025-08-30T23:35:15: [dotenv@17.2.1] injecting env (26) from fmb-onprem\.env.fmb-onprem -- tip: Ã¢Å¡â„¢Ã¯Â¸Â  write to custom object with { processEnv: myObject }
0|fmb-timetracker  | 2025-08-30T23:35:15: [dotenv@17.2.1] injecting env (11) from .env -- tip: Ã°Å¸â€œÂ¡ auto-backup env with Radar: https://dotenvx.com/radar
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.135Z Ã°Å¸Å¸Â¢ [FMB-ONPREM] FMB On-premises environment initialized
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.135Z Ã°Å¸Å¸Â¢ [CONFIG] FMB session secret validated successfully
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€â€” Connecting to FMB MS SQL database...
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã¢Å“â€¦ FMB Database connection established successfully
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.337Z Ã°Å¸Å¸Â¢ [DATABASE] FMB Database initialization completed successfully
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.341Z Ã°Å¸Å¸Â¢ [SESSION] FMB Enterprise Session configured for production mode
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.342Z Ã°Å¸Å¸Â¢ [SESSION] Initializing MS SQL session store for production
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.343Z Ã°Å¸Å¸Â¢ [SESSION] Custom MS SQL session store initialized successfully
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.343Z Ã°Å¸Å¸Â¢ [SESSION] Session store initialization completed
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.344Z Ã°Å¸Å¸Â¢ [SERVER] FMB Session middleware configured successfully
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.346Z Ã°Å¸Å¸Â¢ [SECURITY] Enterprise session security middleware activated
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸Å¡â‚¬ Setting up FMB SAML Authentication for On-Premises environment...
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.349Z Ã°Å¸â€Âµ [FMB-SAML] Initializing FMB SAML Authentication
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€Â§ [FMB-DATABASE] Creating new FMB storage instance...
0|fmb-timetracker  | 2025-08-30T23:35:15: [dotenv@17.2.1] injecting env (0) from fmb-onprem\.env.fmb-onprem -- tip: Ã°Å¸â€œÂ¡ observe env with Radar: https://dotenvx.com/radar
0|fmb-timetracker  | 2025-08-30T23:35:15: [dotenv@17.2.1] injecting env (0) from .env -- tip: Ã°Å¸â€ºÂ Ã¯Â¸Â  run anywhere with `dotenvx run -- yourcommand`
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸ÂÂ¢ FMB On-Premises configuration loaded
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€Â [FMB-CONFIG] Looking for certificate at: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã¢Å“â€¦ [FMB-CONFIG] Certificate loaded successfully from: C:/fmb-timetracker/saml_cert.pem
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€Â [FMB-CONFIG] Certificate length: 1004 characters
0|fmb-timetracker  | 2025-08-30T23:35:15: Ã°Å¸â€â€” [FMB-STORAGE] Connecting to FMB MS SQL Server...
0|fmb-timetracker  | 2025-08-30T23:35:15: 2025-08-31T06:35:15.352Z Ã°Å¸Å¸Â¢ [FMB-SAML] SAML Certificate validation {
0|fmb-timetracker  | 2025-08-30T23:35:15:   "certLength": 1004,
0|fmb-timetracker  | 2025-08-30T23:35:15:   "hasBeginMarker": true,
